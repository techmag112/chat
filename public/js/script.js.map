{"version":3,"file":"script.js","mappings":";;;;;;;;;;;;;;AAAA,MAAMA,eAAe,GAAGA,CAACC,KAAK,EAAEC,EAAE,KAAK;EAEnC;EACA,IAAIC,eAAe,GAAGC,QAAQ,CAACC,gBAAgB,CAAC,qBAAqB,CAAC;EACtE,IAAIC,iBAAiB,GAAG,sBAAsB;EAC9C,IAAIC,kBAAkB,GAAG,uBAAuB;EAEhD,IAAIC,OAAO,GAAGJ,QAAQ,CAACK,aAAa,CAAC,mBAAmB,CAAC;EACzD,IAAIC,OAAO,GAAGN,QAAQ,CAACK,aAAa,CAAC,cAAc,CAAC;EAEpD,IAAIE,IAAI;EACR,IAAIC,SAAS,GAAG,CAAC;EACjB,IAAIC,SAAS;EACb,IAAIC,UAAU;EACd,IAAIC,WAAW;EACf,IAAIC,YAAY;EAChB,IAAIC,WAAW;EACf,IAAIC,YAAY;EAChB,IAAIC,YAAY;EAEhB,IAAIC,OAAO,GAAGhB,QAAQ,CAACK,aAAa,CAAC,mBAAmB,CAAC;EACzD,IAAIY,SAAS,GAAGjB,QAAQ,CAACK,aAAa,CAAC,6BAA6B,CAAC;EAErE,IAAIa,cAAc,GAAG,KAAK;IAAEC,kBAAkB,GAAG,KAAK;EACtD,IAAIC,aAAa;EACjB,IAAIC,aAAa,GAAGrB,QAAQ,CAACK,aAAa,CAAC,YAAY,CAAC;EACxD,IAAIiB,iBAAiB,GAAGtB,QAAQ,CAACK,aAAa,CAAC,gBAAgB,CAAC;EAEhE,IAAIkB,SAAS,EAAEC,SAAS;EACxB,IAAIC,WAAW,GAAGH,iBAAiB,CAACjB,aAAa,CAAC,kBAAkB,CAAC;EACrE,IAAIqB,MAAM,GAAG1B,QAAQ,CAACK,aAAa,CAAC,UAAU,CAAC;EAG/C,MAAMsB,WAAW,GAAG3B,QAAQ,CAACK,aAAa,CAAC,cAAc,CAAC;EAC1D,IAAIuB,YAAY,GAAG5B,QAAQ,CAACK,aAAa,CAAC,aAAa,CAAC;EACxD,IAAIwB,SAAS,GAAGD,YAAY,CAACvB,aAAa,CAAC,WAAW,CAAC;EACvD,IAAIyB,UAAU,GAAGF,YAAY,CAACvB,aAAa,CAAC,eAAe,CAAC;EAG5D0B,IAAI,CAAC,CAAC;EAEN,SAASA,IAAIA,CAAA,EAAG;IACZd,SAAS,CAACe,KAAK,CAAC,CAAC;IACjBC,YAAY,CAAC,CAAC;IACdC,aAAa,CAAC,CAAC;IACfC,mBAAmB,CAAC,CAAC;IACrBC,eAAe,CAAC,CAAC;IACjBC,mBAAmB,CAAC,CAAC;IACrBC,iBAAiB,CAAC,CAAC;IACnBC,qBAAqB,CAAC,CAAC;IACvBC,YAAY,CAAC,CAAC;IACdC,YAAY,CAAC,CAAC;IACdC,aAAa,CAAC,CAAC;IACfC,uBAAuB,CAAC,CAAC;IACzBC,wBAAwB,CAAC,CAAC;IAC1BC,cAAc,CAAC,CAAC;IAChBC,cAAc,CAAC,CAAC;IAChBC,iBAAiB,CAAC,CAAC;EACrB;EAEH,SAASZ,mBAAmBA,CAAA,EAAG;IAC1B,IAAIT,MAAM,GAAG1B,QAAQ,CAACK,aAAa,CAAC,UAAU,CAAC;IAC/CqB,MAAM,CAACsB,gBAAgB,CAAC,OAAO,EAAEC,CAAC,IAAI;MAClCb,eAAe,CAACc,cAAc,CAACD,CAAC,CAACE,MAAM,CAACC,KAAK,EAAEvD,KAAK,CAACwD,SAAS,CAAC,CAAC;IACpE,CAAC,CAAC;EACN;EAEA,SAASC,aAAaA,CAAA,EAAG;IACrB,IAAIC,WAAW,GAAGvD,QAAQ,CAACK,aAAa,CAAC,cAAc,CAAC;IACxD,IAAImD,QAAQ,GAAG3D,KAAK,CAACwD,SAAS,CAACI,MAAM,CAACR,CAAC,IAAI;MACvC,OAAQA,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC;IAClC,CAAC,CAAC;IACF,IAAIS,IAAI,GAAG,EAAE,CAAC,CAAC;IACfF,QAAQ,CAACG,OAAO,CAACV,CAAC,IAAI;MAACS,IAAI,IAAIT,CAAC,CAAC,UAAU,CAAC,GAAG,QAAQ;IAAA,CAAC,CAAC;IACzDM,WAAW,CAACK,SAAS,GAAG,EAAE;IAC1BL,WAAW,CAACK,SAAS,GAAG,gBAAeF,IAAK,gBAAeF,QAAQ,CAACK,MAAO,SAAQ;EACvF;EAEA,SAASzB,eAAeA,CAAA,EAA0B;IAAA,IAAzB0B,KAAK,GAAAC,SAAA,CAAAF,MAAA,QAAAE,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAGlE,KAAK,CAACwD,SAAS;IAC1CY,eAAe,CAAC,CAAC;IACjB,IAAIC,UAAU,GAAG,EAAE;IACnB,IAAIC,SAAS,GAAG,EAAE;IAClBA,SAAS,GAAGL,KAAK,CAACL,MAAM,CAACR,CAAC,IAAI;MACxB,OAAQA,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC;IACpC,CAAC,CAAC;IACFiB,UAAU,GAAGrE,KAAK,CAACwD,SAAS,CAACI,MAAM,CAACR,CAAC,IAAI;MACpC,OAAQA,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC;IACnC,CAAC,CAAC;IACF,IAAKpD,KAAK,CAACuE,aAAa,GAAG,KAAK,EAAE;MAChCd,aAAa,CAAC,CAAC;IACjB;IAEAa,SAAS,CAACR,OAAO,CAAEU,IAAI,IAAK;MAC1BxC,SAAS,CAAC+B,SAAS,IAAK;AACpC,yEAAyES,IAAI,CAAC,IAAI,CAAE;AACpF;AACA;AACA,qEAAqExE,KAAK,CAACyE,MAAO,GAAED,IAAI,CAAC,QAAQ,CAAE;AACnG;AACA;AACA;AACA;AACA,4CAA4CA,IAAI,CAAC,UAAU,CAAE;AAC7D;AACA;AACA;AACA,yBAAyB;IACjB,CAAC,CAAC;IACFE,gBAAgB,CAACL,UAAU,CAAC;EAChC;EAEA,SAASM,QAAQA,CAACC,EAAE,EAAEC,MAAM,EAAE;IACtB7E,KAAK,CAACwD,SAAS,CAACM,OAAO,CAACV,CAAC,IAAI;MACzB,IAAGA,CAAC,CAAC,IAAI,CAAC,IAAIwB,EAAE,EAAE;QACdxB,CAAC,CAAC,cAAc,CAAC,GAAGyB,MAAM;QAC1B,IAAIzB,CAAC,CAAC,IAAI,CAAC,IAAIpD,KAAK,CAAC8E,MAAM,EAAE;UAC3B9E,KAAK,CAAC+E,iBAAiB,GAAGF,MAAM;QAClC;QACAG,kBAAkB,CAACJ,EAAE,EAAEC,MAAM,CAAC;QAC9B;QACA,IAAII,IAAI,GAAG;UACTC,OAAO,EAAE,YAAY;UACrBC,OAAO,EAAEnF,KAAK,CAACwD,SAAS;UACxB4B,OAAO,EAAE;QACX,CAAC;QACDnF,EAAE,CAACoF,IAAI,CAACC,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,CAAC;MACjC;IACJ,CAAC,CAAC;EACV;EAEA,SAASP,gBAAgBA,CAACT,KAAK,EAAE;IAC7BuB,gBAAgB,CAAC,CAAC;IAClBvB,KAAK,CAACH,OAAO,CAAEU,IAAI,IAAK;MACpBvC,UAAU,CAAC8B,SAAS,IAAK;AACrC,yEAAyES,IAAI,CAAC,IAAI,CAAE;AACpF;AACA;AACA,qEAAqExE,KAAK,CAACyE,MAAO,GAAED,IAAI,CAAC,QAAQ,CAAE;AACnG;AACA;AACA;AACA;AACA,gDAAgDA,IAAI,CAAC,UAAU,CAAE;AACjE;AACA;AACA;AACA,yBAAyB;IACjB,CAAC,CAAC;EACN;EAEA,SAASJ,eAAeA,CAAA,EAAG;IACvBpC,SAAS,CAAC+B,SAAS,GAAI,EAAC;EAC5B;EAEA,SAASyB,gBAAgBA,CAAA,EAAG;IACxBvD,UAAU,CAAC8B,SAAS,GAAI,EAAC;EAC7B;EAEA,SAAS3B,YAAYA,CAAA,EAAG;IACpBJ,SAAS,CAACmB,gBAAgB,CAAE,OAAO,EAAE,UAASC,CAAC,EAAE;MAC/C,IAAIqC,aAAa,GAAKC,YAAY,CAACtC,CAAC,CAAC;MACrC,IAAIvB,MAAM,GAAG1B,QAAQ,CAACK,aAAa,CAAC,UAAU,CAAC;MAC/CqB,MAAM,CAAC0B,KAAK,GAAG,EAAE;MACjBoB,QAAQ,CAACc,aAAa,EAAE,CAAC,CAAC;MAC1BlD,eAAe,CAAC,CAAC;IACnB,CAAC,CAAC;EACN;EAEA,SAASF,aAAaA,CAAA,EAAG;IACrBJ,UAAU,CAACkB,gBAAgB,CAAE,OAAO,EAAE,UAASC,CAAC,EAAE;MAChD,IAAIqC,aAAa,GAAKC,YAAY,CAACtC,CAAC,CAAC;MACrCuB,QAAQ,CAACc,aAAa,EAAE,CAAC,CAAC;MAC1BlD,eAAe,CAAC,CAAC;IACnB,CAAC,CAAC;EACN;EAEA,SAASmD,YAAYA,CAACtC,CAAC,EAAE;IACrB,IAAIuC,IAAI,GAAGvC,CAAC,CAACE,MAAM;IACnB,IAAIsB,EAAE;IACN,GAAG;MACCgB,OAAO,CAACD,IAAI,EAAE,SAAS,CAAC,GAAGf,EAAE,GAAGe,IAAI,CAACE,YAAY,CAAC,SAAS,CAAC,GAAGF,IAAI,GAAGA,IAAI,CAACG,UAAU;IACzF,CAAC,QAAQ,CAAClB,EAAE;IACZ,OAAOA,EAAE;EACb;EAEA,SAASgB,OAAOA,CAACG,OAAO,EAAEC,IAAI,EAAE;IAC5B,IAAG,OAAOD,OAAO,KAAK,QAAQ,IAAIA,OAAO,KAAK,IAAI,IAAI,cAAc,IAAIA,OAAO,IAAKA,OAAO,CAACE,YAAY,CAACD,IAAI,CAAC,EAAE;MAC9G,OAAO,IAAI;IACb,CAAC,MAAM;MACL,OAAO,KAAK;IACd;EACJ;EAEA,SAAShD,cAAcA,CAAA,EAAG;IACtBkD,MAAM,CAACC,OAAO,GAAG,UAAS/C,CAAC,EAAE;MAC3B,IAAKA,CAAC,CAACgD,OAAO,KAAK,EAAE,EAAG;QAAE;QACxBC,aAAa,CAAC,CAAC;MACjB;IACF,CAAC;EACL;EAEA,SAASvD,uBAAuBA,CAAA,EAAG;IACjC3C,QAAQ,CAACgD,gBAAgB,CAAC,OAAO,EAAE,YAAW;MAC5C,IAAKxC,SAAS,KAAK,CAAC,EAAG;QACrB0F,aAAa,CAAC,CAAC;MACjB;IACF,CAAC,CAAC;EACJ;EAEA,SAAStD,wBAAwBA,CAAA,EAAG;IAClC5C,QAAQ,CAACgD,gBAAgB,CAAC,aAAa,EAAE,YAAW;MAClD,IAAKxC,SAAS,KAAK,CAAC,EAAG;QACrB0F,aAAa,CAAC,CAAC;MACjB;IACF,CAAC,CAAC;EACJ;EAEA,SAASzD,YAAYA,CAAA,EAAG;IACpBrC,OAAO,CAAC4C,gBAAgB,CAAE,aAAa,EAAE,UAASC,CAAC,EAAE;MACnD,IAAI,CAACA,CAAC,CAACE,MAAM,CAACgD,SAAS,CAACC,QAAQ,CAAC,kBAAkB,CAAC,EAAE;QACpDvG,KAAK,CAACwG,SAAS,GAAKd,YAAY,CAACtC,CAAC,CAAC;QACnCiD,aAAa,CAAC,CAAC;QACfjD,CAAC,CAACqD,cAAc,CAAC,CAAC;QAClB/F,IAAI,GAAGP,QAAQ,CAACK,aAAa,CAAC,gBAAgB,CAAC;QAC/CkG,aAAa,CAAC,CAAC;QACfC,YAAY,CAACvD,CAAC,CAAC;QACfA,CAAC,CAACwD,eAAe,CAAC,CAAC;MACrB;IACF,CAAC,CAAC;EAEN;EAEA,SAASjE,YAAYA,CAAA,EAAG;IACtBlC,OAAO,CAAC0C,gBAAgB,CAAC,aAAa,EAAE,UAAUC,CAAC,EAAE;MACnD,IAAI,CAACA,CAAC,CAACE,MAAM,CAACgD,SAAS,CAACC,QAAQ,CAAC,4BAA4B,CAAC,IAAInD,CAAC,CAACE,MAAM,CAACgD,SAAS,CAACC,QAAQ,CAAC,sBAAsB,CAAC,KAAKb,YAAY,CAACtC,CAAC,CAAC,IAAI,CAAC,EAAE;QAC9IpD,KAAK,CAACwG,SAAS,GAAGd,YAAY,CAACtC,CAAC,CAAC;QACjCiD,aAAa,CAAC,CAAC;QACfjD,CAAC,CAACqD,cAAc,CAAC,CAAC;QAClB/F,IAAI,GAAGP,QAAQ,CAACK,aAAa,CAAC,eAAe,CAAC;QAC9CqG,YAAY,CAAC,CAAC;QACdF,YAAY,CAACvD,CAAC,CAAC;QACfA,CAAC,CAACwD,eAAe,CAAC,CAAC;MACrB;IACF,CAAC,CAAC;EACJ;EAEA,SAASC,YAAYA,CAAA,EAAG;IACpB,IAAKlG,SAAS,KAAK,CAAC,EAAG;MACrBA,SAAS,GAAG,CAAC;MACbD,IAAI,CAAC4F,SAAS,CAACQ,GAAG,CAACzG,iBAAiB,CAAC;IACvC;EACJ;EAEA,SAASqG,aAAaA,CAAA,EAAG;IACvB,IAAK/F,SAAS,KAAK,CAAC,EAAG;MACrBA,SAAS,GAAG,CAAC;MACbD,IAAI,CAAC4F,SAAS,CAACQ,GAAG,CAACxG,kBAAkB,CAAC;IACxC;EACF;EAEA,SAAS+F,aAAaA,CAAA,EAAG;IAAG;IACxB,IAAK1F,SAAS,KAAK,CAAC,EAAG;MACrBA,SAAS,GAAG,CAAC;MACbD,IAAI,CAAC4F,SAAS,CAACS,MAAM,CAAC1G,iBAAiB,CAAC;MACxCK,IAAI,CAAC4F,SAAS,CAACS,MAAM,CAACzG,kBAAkB,CAAC;IAC3C;EACJ;EAEA,SAAS0G,WAAWA,CAAC5D,CAAC,EAAE;IACtB,IAAI6D,IAAI,GAAG,CAAC;IACZ,IAAIC,IAAI,GAAG,CAAC;IAEZ,IAAI,CAAC9D,CAAC,EAAE;MACN,IAAIA,CAAC,GAAG8C,MAAM,CAACiB,KAAK;IACtB;IAEA,IAAI/D,CAAC,CAACgE,KAAK,IAAIhE,CAAC,CAACiE,KAAK,EAAE;MACtBJ,IAAI,GAAG7D,CAAC,CAACgE,KAAK;MACdF,IAAI,GAAG9D,CAAC,CAACiE,KAAK;IAChB,CAAC,MAAM,IAAIjE,CAAC,CAACkE,OAAO,IAAIlE,CAAC,CAACmE,OAAO,EAAE;MACjCN,IAAI,GAAG7D,CAAC,CAACkE,OAAO,GAAGnH,QAAQ,CAACqH,IAAI,CAACC,UAAU,GACxBtH,QAAQ,CAACuH,eAAe,CAACD,UAAU;MACtDP,IAAI,GAAG9D,CAAC,CAACmE,OAAO,GAAGpH,QAAQ,CAACqH,IAAI,CAACG,SAAS,GACvBxH,QAAQ,CAACuH,eAAe,CAACC,SAAS;IACvD;IAEA,OAAO;MACLC,CAAC,EAAEX,IAAI;MACPY,CAAC,EAAEX;IACL,CAAC;EACH;EAEA,SAASP,YAAYA,CAACvD,CAAC,EAAE;IACvBpC,WAAW,GAAGgG,WAAW,CAAC5D,CAAC,CAAC;IAC5BnC,YAAY,GAAGD,WAAW,CAAC4G,CAAC;IAC5B1G,YAAY,GAAGF,WAAW,CAAC6G,CAAC;IAE5BjH,SAAS,GAAGF,IAAI,CAACoH,WAAW,GAAG,CAAC;IAChCjH,UAAU,GAAGH,IAAI,CAACqH,YAAY,GAAG,CAAC;IAElCjH,WAAW,GAAGoF,MAAM,CAAC8B,UAAU;IAC/BjH,YAAY,GAAGmF,MAAM,CAAC+B,WAAW;IAEjC,IAAMnH,WAAW,GAAGG,YAAY,GAAIL,SAAS,EAAG;MAC9CF,IAAI,CAACwH,KAAK,CAACC,IAAI,GAAGrH,WAAW,GAAGF,SAAS,GAAG,IAAI;IAClD,CAAC,MAAM;MACLF,IAAI,CAACwH,KAAK,CAACC,IAAI,GAAGlH,YAAY,GAAG,IAAI;IACvC;IAEA,IAAMF,YAAY,GAAGG,YAAY,GAAIL,UAAU,EAAG;MAChDH,IAAI,CAACwH,KAAK,CAACE,GAAG,GAAGrH,YAAY,GAAGF,UAAU,GAAG,IAAI;IACnD,CAAC,MAAM;MACLH,IAAI,CAACwH,KAAK,CAACE,GAAG,GAAGlH,YAAY,GAAG,IAAI;IACtC;EACF;EAEA,SAAS+B,cAAcA,CAAA,EAAG;IACxBiD,MAAM,CAACmC,QAAQ,GAAG,UAASjF,CAAC,EAAE;MAC5BiD,aAAa,CAAC,CAAC;IACjB,CAAC;EACH;EAEA,SAASxD,aAAaA,CAAA,EAAG;IACvB3C,eAAe,CAAC4D,OAAO,CAAC,UAAUiC,OAAO,EAAE;MACzCA,OAAO,CAAC5C,gBAAgB,CAAE,OAAO,EAAE,UAASC,CAAC,EAAE;QAC7CA,CAAC,CAACqD,cAAc,CAAC,CAAC;QAClB6B,kBAAkB,CAAClF,CAAC,CAACE,MAAM,CAAC;MAC9B,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEA,SAASgF,kBAAkBA,CAAEC,IAAI,EAAG;IAClClC,aAAa,CAAC,CAAC;IACf,IAAKkC,IAAI,CAAC1C,YAAY,CAAC,aAAa,CAAC,IAAI,QAAQ,IAAM7F,KAAK,CAAC+E,iBAAiB,IAAI,CAAE,IAAK/E,KAAK,CAACuE,aAAa,IAAI,OAAQ,EAAE;MACxHiE,UAAU,CAAC,cAAc,CAAC;IAC5B,CAAC,MAAM;MACL,QAAQD,IAAI,CAAC1C,YAAY,CAAC,aAAa,CAAC;QACtC,KAAK,QAAQ;UACX4C,WAAW,CAACzI,KAAK,CAACwG,SAAS,CAAC;UAC5B;QACF,KAAK,QAAQ;UACXkC,aAAa,CAAC1I,KAAK,CAACwG,SAAS,CAAC;UAC9B;QACF,KAAK,MAAM;UACTmC,WAAW,CAAC3I,KAAK,CAACwG,SAAS,CAAC;UAC5B;QACF,KAAK,SAAS;UACZoC,cAAc,CAAC5I,KAAK,CAACwG,SAAS,CAAC;UAC/B;MACJ;IACF;EACF;EAEA,SAASiC,WAAWA,CAAC7D,EAAE,EAAE;IACvB,MAAMiE,WAAW,GAAG1I,QAAQ,CAACK,aAAa,CAAC,mBAAmB,CAAC;IAC/D,IAAIsI,WAAW,GAAGD,WAAW,CAACzI,gBAAgB,CAAC,2BAA2B,CAAC;IAC3E0I,WAAW,CAAChF,OAAO,CAAEiF,IAAI,IAAK;MAC1B,IAAIA,IAAI,CAAClD,YAAY,CAAC,SAAS,CAAC,KAAKjB,EAAE,EAAE;QACvC,IAAIoE,QAAQ,GAAGD,IAAI,CAACvI,aAAa,CAAC,QAAQ,CAAC;QACzC,IAAIwI,QAAQ,CAACC,SAAS,KAAK,cAAc,EAAE;UACvCD,QAAQ,CAAC1C,SAAS,CAACS,MAAM,CAAC,WAAW,CAAC;UACtCiC,QAAQ,CAAC1C,SAAS,CAACQ,GAAG,CAAC,iBAAiB,CAAC;UACzCoC,aAAa,CAACtE,EAAE,CAAC;QACrB,CAAC,MAAM;UACHoE,QAAQ,CAAC1C,SAAS,CAACS,MAAM,CAAC,iBAAiB,CAAC;UAC5CiC,QAAQ,CAAC1C,SAAS,CAACQ,GAAG,CAAC,WAAW,CAAC;UACnCoC,aAAa,CAACtE,EAAE,CAAC;QACrB;MACJ;IACJ,CAAC,CAAC;EACJ;EAEA,SAAS8D,aAAaA,CAAC9D,EAAE,EAAE;IACzB5E,KAAK,CAACmJ,WAAW,CAACrF,OAAO,CAACV,CAAC,IAAI;MAC7B,IAAKA,CAAC,CAAC,IAAI,CAAC,IAAIwB,EAAE,IAAMxB,CAAC,CAAC,SAAS,CAAC,IAAIpD,KAAK,CAACuE,aAAc,EAAE;QAC5DnB,CAAC,CAAC,SAAS,CAAC,GAAGgG,UAAU,CAACxE,EAAE,EAAE,0BAA0B,CAAC;QACzD,IAAIyE,KAAK,GAAGrJ,KAAK,CAACmJ,WAAW,CAACG,SAAS,CAAClG,CAAC,IAAIA,CAAC,CAACwB,EAAE,IAAI5E,KAAK,CAACwG,SAAS,CAAC;QACrExG,KAAK,CAACmJ,WAAW,CAACE,KAAK,CAAC,CAAC,SAAS,CAAC,GAAG,0BAA0B;MAClE;IACF,CAAC,CAAC;IACE;IACA,IAAIpE,IAAI,GAAG;MACTC,OAAO,EAAE,MAAM;MACfqE,EAAE,EAAEC,iBAAiB,CAAC,CAAC;MACvBC,IAAI,EAAEzJ,KAAK,CAAC8E,MAAM;MAClBK,OAAO,EAAE,0BAA0B;MACnCuE,SAAS,EAAE9E;IACb,CAAC;IACD3E,EAAE,CAACoF,IAAI,CAACC,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,CAAC;IAC7B0E,iBAAiB,CAAC/E,EAAE,EAAE5E,KAAK,CAACuE,aAAa,EAAE,0BAA0B,CAAC;EAC5E;EAEA,SAASoE,WAAWA,CAAC/D,EAAE,EAAE;IACvB5E,KAAK,CAACmJ,WAAW,CAACrF,OAAO,CAACV,CAAC,IAAI;MAC7B,IAAKA,CAAC,CAAC,IAAI,CAAC,IAAIwB,EAAE,IAAMxB,CAAC,CAAC,SAAS,CAAC,IAAIpD,KAAK,CAACuE,aAAc,EAAE;QAC5DqF,UAAU,CAAC,CAAC;QACZvI,cAAc,GAAG,IAAI;QACrBG,aAAa,CAAC8E,SAAS,CAACQ,GAAG,CAAC,QAAQ,CAAC;QACrCtF,aAAa,CAAChB,aAAa,CAAC,6BAA6B,CAAC,CAAC+C,KAAK,GAAGH,CAAC,CAAC,SAAS,CAAC;MACjF;IACF,CAAC,CAAC;EACJ;EAEA,SAASV,qBAAqBA,CAAA,EAAG;IAC/BlB,aAAa,CAAChB,aAAa,CAAC,mBAAmB,CAAC,CAAC2C,gBAAgB,CAAC,OAAO,EAAEC,CAAC,IAAI;MAC1EyG,YAAY,CAAC,CAAC;MACd,IAAIR,KAAK,GAAGrJ,KAAK,CAACmJ,WAAW,CAACG,SAAS,CAAClG,CAAC,IAAIA,CAAC,CAACwB,EAAE,IAAI5E,KAAK,CAACwG,SAAS,CAAC;MACrExG,KAAK,CAACmJ,WAAW,CAACE,KAAK,CAAC,CAAC,SAAS,CAAC,GAAG7H,aAAa,CAAChB,aAAa,CAAC,6BAA6B,CAAC,CAAC+C,KAAK;MACtG6F,UAAU,CAACpJ,KAAK,CAACwG,SAAS,EAAEhF,aAAa,CAAChB,aAAa,CAAC,6BAA6B,CAAC,CAAC+C,KAAK,EAAE,QAAQ,CAAC;MACvGH,CAAC,CAACwD,eAAe,CAAC,CAAC;IACzB,CAAC,CAAC;IACFpF,aAAa,CAAC2B,gBAAgB,CAAC,SAAS,EAAEC,CAAC,IAAI;MAC3C,IAAIA,CAAC,CAAC0G,GAAG,KAAK,OAAO,EAAE;QACrB1G,CAAC,CAACqD,cAAc,CAAC,CAAC;QAClBoD,YAAY,CAAC,CAAC;QACd,IAAIR,KAAK,GAAGrJ,KAAK,CAACmJ,WAAW,CAACG,SAAS,CAAClG,CAAC,IAAIA,CAAC,CAACwB,EAAE,IAAI5E,KAAK,CAACwG,SAAS,CAAC;QACrExG,KAAK,CAACmJ,WAAW,CAACE,KAAK,CAAC,CAAC,SAAS,CAAC,GAAG7H,aAAa,CAAChB,aAAa,CAAC,6BAA6B,CAAC,CAAC+C,KAAK;QACtG6F,UAAU,CAACpJ,KAAK,CAACwG,SAAS,EAAEhF,aAAa,CAAChB,aAAa,CAAC,6BAA6B,CAAC,CAAC+C,KAAK,EAAE,QAAQ,CAAC;QACvGH,CAAC,CAACwD,eAAe,CAAC,CAAC;MACrB;IACH,CAAC,CAAC;EACL;EAEA,SAASwC,UAAUA,CAACxE,EAAE,EAAEmF,UAAU,EAAe;IAAA,IAAblF,MAAM,GAAAX,SAAA,CAAAF,MAAA,QAAAE,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,EAAE;IAC7C,MAAM8F,QAAQ,GAAG,WAAW,GAAG,GAAG,GAAGpF,EAAE,GAAG,IAAI;IAC9CnE,OAAO,CAACD,aAAa,CAACwJ,QAAQ,CAAC,CAACjG,SAAS,GAAI;AACnD,uEAAuEa,EAAG;AAC1E,yDAAyD5E,KAAK,CAACiK,QAAS,KAAIpF,MAAO,GAAEkF,UAAW;AAChG,yDAAyDG,WAAW,CAAC,CAAE;AACvE,iBAAiB;IACV;IACD,IAAIjF,IAAI,GAAG;MACTC,OAAO,EAAE,MAAM;MACfqE,EAAE,EAAEC,iBAAiB,CAAC,CAAC;MACvBC,IAAI,EAAEzJ,KAAK,CAAC8E,MAAM;MAClBK,OAAO,EAAEN,MAAM,GAAGkF,UAAU;MAC5BL,SAAS,EAAE9E;IACb,CAAC;IACD3E,EAAE,CAACoF,IAAI,CAACC,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,CAAC;IAC7B0E,iBAAiB,CAAC/E,EAAE,EAAE5E,KAAK,CAACuE,aAAa,EAAEM,MAAM,GAAGkF,UAAU,CAAC;EACjE;EAEA,SAASG,WAAWA,CAAA,EAAG;IACrB,MAAMC,MAAM,GAAG,IAAIC,IAAI,CAAC,CAAC;IACzB,MAAMC,IAAI,GAAGF,MAAM,CAACG,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACvG,MAAM,GAAG,CAAC,GAAG,GAAG,GAAGmG,MAAM,CAACG,QAAQ,CAAC,CAAC,GAAGH,MAAM,CAACG,QAAQ,CAAC,CAAC;IAClG,MAAME,GAAG,GAAGL,MAAM,CAACM,UAAU,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAC,CAACvG,MAAM,GAAG,CAAC,GAAG,GAAG,GAAGmG,MAAM,CAACM,UAAU,CAAC,CAAC,GAAGN,MAAM,CAACM,UAAU,CAAC,CAAC;IACvG,OAAQ,GAAEJ,IAAK,IAAGG,GAAI,EAAC;EACzB;EAEA,SAASE,kBAAkBA,CAACvF,OAAO,EAAgC;IAAA,IAA9BwF,MAAM,GAAAzG,SAAA,CAAAF,MAAA,QAAAE,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAGlE,KAAK,CAACuE,aAAa;IAC/D,MAAMqG,QAAQ,GAAGC,sBAAsB,CAAC7K,KAAK,CAACmJ,WAAW,EAAEwB,MAAM,CAAC;IAClE,MAAMG,UAAU,GAAI;AAC1B;AACA,+EAA+EF,QAAS;AACxF,iEAAiE5K,KAAK,CAACiK,QAAS,KAAI9E,OAAQ;AAC5F,iEAAiE+E,WAAW,CAAC,CAAE;AAC/E;AACA;AACA,OAAO;IACDpI,WAAW,CAACiJ,kBAAkB,CAAC,WAAW,EAAED,UAAU,CAAC;IACvD9K,KAAK,CAACmJ,WAAW,CAACnJ,KAAK,CAACmJ,WAAW,CAACnF,MAAM,CAAC,GAAG;MAAC,IAAI,EAAE4G,QAAQ;MAAE,SAAS,EAAEI,MAAM,CAACL,MAAM,CAAC;MAAE,WAAW,EAAE3K,KAAK,CAAC8E,MAAM;MAAE,SAAS,EAAEK,OAAO;MAAE,cAAc,EAAE+E,WAAW,CAAC,CAAC;MAAE,KAAK,EAAElK,KAAK,CAAC8E,MAAM;MAAE,KAAK,EAAE0E,iBAAiB,CAAC;IAAC,CAAC;IACxNyB,cAAc,CAACL,QAAQ,EAAEI,MAAM,CAACL,MAAM,CAAC,EAAE3K,KAAK,CAAC8E,MAAM,EAAEK,OAAO,EAAE+E,WAAW,CAAC,CAAC,CAAC;EAChF;EAEA,SAASW,sBAAsBA,CAAC1B,WAAW,EAAE+B,MAAM,EAAE;IACnD,MAAMjH,KAAK,GAAGkF,WAAW,CAACvF,MAAM,CAACmF,IAAI,IAAIA,IAAI,CAAC,SAAS,CAAC,IAAImC,MAAM,CAAC;IACnE,OAAO,EAAEjH,KAAK,CAACD,MAAM;EACvB;EAEA,SAASvB,iBAAiBA,CAAA,EAAG;IACzBf,SAAS,GAAG,SAAAA,CAAA,EAAU;MACpB,IAAIN,SAAS,CAACmC,KAAK,KAAK,EAAE,EAAE;QAC1B,IAAKvD,KAAK,CAAC+E,iBAAiB,IAAI,CAAC,IAAM/E,KAAK,CAACuE,aAAa,IAAI,OAAQ,EAAE;UACtEiE,UAAU,CAAC,CAAC;QACd,CAAC,MAAM;UACL,IAAI2C,YAAY,GAAG/J,SAAS,CAACmC,KAAK,CAAC,CAAC;UACpC;UACAmH,kBAAkB,CAACS,YAAY,CAAC;UAChC;UACA,IAAIlB,QAAQ,GAAGjK,KAAK,CAACiK,QAAQ;UAC7B,IAAIjK,KAAK,CAACuE,aAAa,IAAI,OAAO,EAAE;YAClC,IAAIU,IAAI,GAAG;cACTC,OAAO,EAAE,WAAW;cACpBC,OAAO,EAAE8E,QAAQ,GAAG,IAAI,GAAGkB,YAAY;cACvC/F,OAAO,EAAE;YACX,CAAC;YACDnF,EAAE,CAACoF,IAAI,CAACC,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,CAAC;UAC/B,CAAC,MAAM;YACL,IAAIA,IAAI,GAAG;cACTC,OAAO,EAAE,SAAS;cAClBqE,EAAE,EAAEC,iBAAiB,CAAC,CAAC;cACvBC,IAAI,EAAEzJ,KAAK,CAAC8E,MAAM;cAClBK,OAAO,EAAE8E,QAAQ,GAAG,IAAI,GAAGkB;YAC7B,CAAC;YACDlL,EAAE,CAACoF,IAAI,CAACC,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,CAAC;UAC/B;UACA;QACF;;QACE7D,SAAS,CAACmC,KAAK,GAAG,EAAE;QACpBnC,SAAS,CAACe,KAAK,CAAC,CAAC;MACrB;IACJ,CAAC;IAEDhB,OAAO,CAACgC,gBAAgB,CAAC,OAAO,EAAEzB,SAAS,CAAC;IAE5CC,SAAS,GAAGyB,CAAC,IAAI;MACf,IAAKhC,SAAS,CAACmC,KAAK,KAAK,EAAE,IAAMH,CAAC,CAAC0G,GAAG,KAAK,OAAQ,EAAE;QACnD,IAAK9J,KAAK,CAAC+E,iBAAiB,IAAI,CAAC,IAAM/E,KAAK,CAACuE,aAAa,IAAI,OAAQ,EAAE;UACtEiE,UAAU,CAAC,CAAC;QACd,CAAC,MAAM;UACHpF,CAAC,CAACqD,cAAc,CAAC,CAAC;UAClB,IAAI0E,YAAY,GAAG/J,SAAS,CAACmC,KAAK,CAAC,CAAC;UACpC;UACAmH,kBAAkB,CAACS,YAAY,CAAC;UAChC;UACA,IAAIlB,QAAQ,GAAGjK,KAAK,CAACiK,QAAQ;UAC7B,IAAIjK,KAAK,CAACuE,aAAa,IAAI,OAAO,EAAE;YAClC,IAAIU,IAAI,GAAG;cACTC,OAAO,EAAE,WAAW;cACpBC,OAAO,EAAE8E,QAAQ,GAAG,IAAI,GAAGkB,YAAY;cACvC/F,OAAO,EAAE;YACX,CAAC;YACDnF,EAAE,CAACoF,IAAI,CAACC,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,CAAC;UAC/B,CAAC,MAAM;YACL,IAAIA,IAAI,GAAG;cACTC,OAAO,EAAE,SAAS;cAClBqE,EAAE,EAAEC,iBAAiB,CAAC,CAAC;cACvBC,IAAI,EAAEzJ,KAAK,CAAC8E,MAAM;cAClBK,OAAO,EAAE8E,QAAQ,GAAG,IAAI,GAAGkB;YAC7B,CAAC;YACDlL,EAAE,CAACoF,IAAI,CAACC,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,CAAC;UAC/B;UACA;QACF;;QACA7D,SAAS,CAACmC,KAAK,GAAG,EAAE;QACpBnC,SAAS,CAACe,KAAK,CAAC,CAAC;MACnB;IACF,CAAC;IACD+D,MAAM,CAAC/C,gBAAgB,CAAC,SAAS,EAAExB,SAAS,CAAC;EACjD;EAEA,SAASyJ,oBAAoBA,CAAA,EAAG;IAC9BjK,OAAO,CAACkK,mBAAmB,CAAC,OAAO,EAAE3J,SAAS,EAAE,KAAK,CAAC;IACtDwE,MAAM,CAAC/C,gBAAgB,CAAC,SAAS,EAAExB,SAAS,EAAE,KAAK,CAAC;EACtD;EAGA,SAASiI,UAAUA,CAAA,EAAG;IACpB,IAAK,CAACvI,cAAc,IAAM,CAACC,kBAAmB,EAAE;MAC5CC,aAAa,GAAGpB,QAAQ,CAACmL,aAAa,CAAC,KAAK,CAAC;MAC7C/J,aAAa,CAAC+E,SAAS,CAACQ,GAAG,CAAC,iBAAiB,CAAC;MAC9C3G,QAAQ,CAACqH,IAAI,CAAC+D,WAAW,CAAChK,aAAa,CAAC;MACxCA,aAAa,CAAC+E,SAAS,CAACQ,GAAG,CAAC,uBAAuB,CAAC;MACpDsE,oBAAoB,CAAC,CAAC;MACtB7J,aAAa,CAAC4B,gBAAgB,CAAC,OAAO,EAAEC,CAAC,IAAI;QAC3C,IAAIA,CAAC,CAACE,MAAM,CAACgD,SAAS,CAACC,QAAQ,CAAC,iBAAiB,CAAC,EAAE;UAChDsD,YAAY,CAAC,CAAC;QAClB;MACF,CAAC,CAAC;MACF3D,MAAM,CAAC/C,gBAAgB,CAAC,SAAS,EAAEC,CAAC,IAAI;QACtC,IAAKA,CAAC,CAAC0G,GAAG,KAAK,QAAQ,IAAMzI,cAAc,IAAMC,kBAAmB,CAAC,EAAE;UACnEuI,YAAY,CAAC,CAAC;QAClB;MACF,CAAC,CAAC;IACN,CAAC,MAAM;MACHtI,aAAa,CAAC+E,SAAS,CAACS,MAAM,CAAC,uBAAuB,CAAC;MACvDxF,aAAa,CAAC+E,SAAS,CAACS,MAAM,CAAC,iBAAiB,CAAC;MACjD5G,QAAQ,CAACqH,IAAI,CAACgE,WAAW,CAACjK,aAAa,CAAC;MACxCkB,iBAAiB,CAAC,CAAC;IACvB;EACF;EAEA,SAASoH,YAAYA,CAAA,EAAG;IACtB,IAAKxI,cAAc,IAAMC,kBAAmB,EAAE;MAC1CC,aAAa,CAAC+E,SAAS,CAACS,MAAM,CAAC,uBAAuB,CAAC;MACvDxF,aAAa,CAAC+E,SAAS,CAACS,MAAM,CAAC,iBAAiB,CAAC;MACjD5G,QAAQ,CAACqH,IAAI,CAACgE,WAAW,CAACjK,aAAa,CAAC;MACxCC,aAAa,CAAC8E,SAAS,CAACS,MAAM,CAAC,QAAQ,CAAC;MACxCtF,iBAAiB,CAAC6E,SAAS,CAACS,MAAM,CAAC,QAAQ,CAAC;MAC5C1F,cAAc,GAAG,KAAK;MACtBC,kBAAkB,GAAG,KAAK;MAC1BmB,iBAAiB,CAAC,CAAC;IACvB;EACF;EAEA,SAASmG,cAAcA,CAAC6C,SAAS,EAAE;IAC/B7B,UAAU,CAAC,CAAC;IACZ5J,KAAK,CAACwG,SAAS,GAAGiF,SAAS;IAC3BnK,kBAAkB,GAAG,IAAI;IACzBG,iBAAiB,CAAC6E,SAAS,CAACQ,GAAG,CAAC,QAAQ,CAAC;IACzC4E,mBAAmB,CAAC,CAAC;EACzB;EAEA,SAASA,mBAAmBA,CAAA,EAAoB;IAAA,IAAnBzH,KAAK,GAAAC,SAAA,CAAAF,MAAA,QAAAE,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAGlE,KAAK,CAAC2L,GAAG;IACxC,IAAIhI,QAAQ,GAAG,EAAE;IACjBA,QAAQ,GAAGM,KAAK,CAACL,MAAM,CAACR,CAAC,IAAI;MACvB,OAAQpD,KAAK,CAAC+E,iBAAiB,IAAI,CAAC,GAAI3B,CAAC,CAAC,SAAS,CAAC,GAAG,KAAK,GAAGA,CAAC,CAAC,SAAS,CAAC,GAAG,KAAK;IACvF,CAAC,CAAC;IACJxB,WAAW,CAACmC,SAAS,GAAG,EAAE;IAC1BJ,QAAQ,CAACG,OAAO,CAAEU,IAAI,IAAK;MACzB,IAAIA,IAAI,CAAC,SAAS,CAAC,IAAIxE,KAAK,CAACuE,aAAa,EAAE;QACtC3C,WAAW,CAACmC,SAAS,IAAK;AAC5C,yEAAyES,IAAI,CAAC,SAAS,CAAE;AACzF;AACA;AACA,qEAAqExE,KAAK,CAACyE,MAAO,GAAED,IAAI,CAAC,QAAQ,CAAE;AACnG;AACA;AACA;AACA;AACA,4CAA4CA,IAAI,CAAC,UAAU,CAAE;AAC7D;AACA;AACA;AACA,mBAAmB;MACP;IACJ,CAAC,CAAC;EACN;EAEA,SAAShC,mBAAmBA,CAAA,EAAG;IAC7BZ,WAAW,CAACuB,gBAAgB,CAAC,OAAO,EAAE,UAASC,CAAC,EAAE;MAC9CA,CAAC,CAACwD,eAAe,CAAC,CAAC;MACnB,IAAIgF,aAAa,GAAKlG,YAAY,CAACtC,CAAC,CAAC;MACrC,IAAI+B,OAAO,GAAG,EAAE;MAChBnF,KAAK,CAACmJ,WAAW,CAACrF,OAAO,CAACV,CAAC,IAAI;QAC7B,IAAGA,CAAC,CAAC,IAAI,CAAC,IAAIpD,KAAK,CAACwG,SAAS,EAAE;UAC5BrB,OAAO,GAAG,WAAW,GAAG/B,CAAC,CAAC,SAAS,CAAC;QACvC;MACF,CAAC,CAAC;MACF,MAAMwH,QAAQ,GAAGC,sBAAsB,CAAC7K,KAAK,CAACmJ,WAAW,EAAEyC,aAAa,CAAC;MACzE5L,KAAK,CAACmJ,WAAW,CAACnJ,KAAK,CAACmJ,WAAW,CAACnF,MAAM,CAAC,GAAG;QAAC,IAAI,EAAE4G,QAAQ;QAAE,SAAS,EAAEI,MAAM,CAACY,aAAa,CAAC;QAAE,WAAW,EAAE5L,KAAK,CAAC8E,MAAM;QAAE,SAAS,EAAEK,OAAO;QAAE,cAAc,EAAE+E,WAAW,CAAC,CAAC;QAAE,KAAK,EAAElK,KAAK,CAAC8E,MAAM;QAAE,KAAK,EAAE0E,iBAAiB,CAACwB,MAAM,CAACY,aAAa,CAAC;MAAC,CAAC;MACpPX,cAAc,CAACL,QAAQ,EAAEI,MAAM,CAACY,aAAa,CAAC,EAAE5L,KAAK,CAAC8E,MAAM,EAAEK,OAAO,EAAE+E,WAAW,CAAC,CAAC,CAAC;MACrF;MACA,IAAIV,iBAAiB,CAACwB,MAAM,CAACY,aAAa,CAAC,CAAC,GAAG,KAAK,EAAE;QACnD,IAAI3G,IAAI,GAAG;UACNC,OAAO,EAAE,SAAS;UAClBqE,EAAE,EAAEC,iBAAiB,CAACwB,MAAM,CAACY,aAAa,CAAC,CAAC;UAC5CnC,IAAI,EAAEzJ,KAAK,CAAC8E,MAAM;UAClBK,OAAO,EAAEA;QACV,CAAC;QACDlF,EAAE,CAACoF,IAAI,CAACC,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,CAAC;MAChC,CAAC,MAAM;QACH,IAAIA,IAAI,GAAG;UACTC,OAAO,EAAE,WAAW;UACpBC,OAAO,EAAEA,OAAO;UAChBC,OAAO,EAAE;QACX,CAAC;QACDnF,EAAE,CAACoF,IAAI,CAACC,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,CAAC;MACjC;MACA;MACC4E,YAAY,CAAC,CAAC;IACrB,CAAC,CAAC;EACJ;EAEF,SAAS3G,iBAAiBA,CAAA,EAAG;IAC3BrB,MAAM,CAACsB,gBAAgB,CAAC,OAAO,EAAEC,CAAC,IAAI;MACpCsI,mBAAmB,CAACrI,cAAc,CAACD,CAAC,CAACE,MAAM,CAACC,KAAK,EAAEvD,KAAK,CAAC2L,GAAG,CAAC,CAAC;IAChE,CAAC,CAAC;EACJ;EAEA,SAAStI,cAAcA,CAACE,KAAK,EAAEU,KAAK,EAAE;IACpC,OAAOA,KAAK,CAACL,MAAM,CAACiI,EAAE,IAAIA,EAAE,CAAC,UAAU,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,OAAO,CAACxI,KAAK,CAACuI,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;EAC7F;EAEA,SAASE,wBAAwBA,CAAC7G,OAAO,EAAE8G,cAAc,EAAE;IACzD,MAAMrB,QAAQ,GAAGC,sBAAsB,CAAC7K,KAAK,CAACmJ,WAAW,EAAE+C,2BAA2B,CAACD,cAAc,CAAC,CAAC;IACvG,IAAIC,2BAA2B,CAACD,cAAc,CAAC,IAAIjM,KAAK,CAACuE,aAAa,EAAE;MACpE,MAAMuG,UAAU,GAAI;AAC9B,yGAAyGF,QAAS;AAClH;AACA,iFAAiFzF,OAAQ;AACzF,iFAAiF+E,WAAW,CAAC,CAAE;AAC/F;AACA;AACA,yBAAyB;MACfpI,WAAW,CAACiJ,kBAAkB,CAAC,WAAW,EAAED,UAAU,CAAC;IAC3D;IACAqB,UAAU,CAACD,2BAA2B,CAACD,cAAc,CAAC,EAAEA,cAAc,CAAC;IACvEjM,KAAK,CAACmJ,WAAW,CAACnJ,KAAK,CAACmJ,WAAW,CAACnF,MAAM,CAAC,GAAG;MAC5C,IAAI,EAAE4G,QAAQ;MACd,SAAS,EAAEsB,2BAA2B,CAACD,cAAc,CAAC;MACtD,WAAW,EAAEA,cAAc;MAC3B,SAAS,EAAE9G,OAAO;MAClB,cAAc,EAAE+E,WAAW,CAAC,CAAC;MAC7B,KAAK,EAAE+B,cAAc;MACrB,KAAK,EAAEjM,KAAK,CAAC8E;IACf,CAAC;EACH;EAEA,SAASsH,6BAA6BA,CAACjH,OAAO,EAAE;IAC9C,MAAMyF,QAAQ,GAAGC,sBAAsB,CAAC7K,KAAK,CAACmJ,WAAW,EAAE,KAAK,CAAC;IACjE,IAAKnJ,KAAK,CAACuE,aAAa,IAAI,KAAK,IAAMvE,KAAK,CAAC+E,iBAAiB,IAAI,CAAE,EAAG;MACnE,MAAM+F,UAAU,GAAI;AAC9B,yGAAyGF,QAAS;AAClH;AACA,iFAAiFzF,OAAQ;AACzF,iFAAiF+E,WAAW,CAAC,CAAE;AAC/F;AACA;AACA,yBAAyB;MACfpI,WAAW,CAACiJ,kBAAkB,CAAC,WAAW,EAAED,UAAU,CAAC;IAC3D;IACA,IAAI9K,KAAK,CAAC+E,iBAAiB,IAAI,CAAC,EAAE;MAChCoH,UAAU,CAAC,KAAK,EAAE,KAAK,CAAC;IAC1B;IACAnM,KAAK,CAACmJ,WAAW,CAACnJ,KAAK,CAACmJ,WAAW,CAACnF,MAAM,CAAC,GAAG;MAC5C,IAAI,EAAE4G,QAAQ;MACd,SAAS,EAAE,KAAK;MAChB,WAAW,EAAE,KAAK;MAClB,SAAS,EAAEzF,OAAO;MAClB,cAAc,EAAE+E,WAAW,CAAC,CAAC;MAC7B,KAAK,EAAE,KAAK;MACZ,KAAK,EAAE;IACT,CAAC;EACH;EAEA,SAASmC,2BAA2BA,CAACzH,EAAE,EAAEqH,cAAc,EAAE9G,OAAO,EAAE;IAChE,IAAI+G,2BAA2B,CAACD,cAAc,CAAC,IAAIjM,KAAK,CAACuE,aAAa,EAAE;MACtE,MAAMyF,QAAQ,GAAG,WAAW,GAAG,GAAG,GAAGpF,EAAE,GAAG,IAAI;MAC9CnE,OAAO,CAACD,aAAa,CAACwJ,QAAQ,CAAC,CAACjG,SAAS,GAAI;AACrD,2FAA2Fa,EAAG;AAC9F;AACA,+DAA+DO,OAAQ;AACvE,+DAA+D+E,WAAW,CAAC,CAAE;AAC7E;AACA;AACA,aAAa;IACP;IACA,IAAIb,KAAK,GAAGrJ,KAAK,CAACmJ,WAAW,CAACG,SAAS,CAAClG,CAAC,IAAIA,CAAC,CAACwB,EAAE,IAAIA,EAAE,CAAC;IACxDuH,UAAU,CAACD,2BAA2B,CAACD,cAAc,CAAC,EAAEA,cAAc,CAAC;IACvEjM,KAAK,CAACmJ,WAAW,CAACE,KAAK,CAAC,GAAG;MACzB,IAAI,EAAEzE,EAAE;MACR,SAAS,EAAEsH,2BAA2B,CAACD,cAAc,CAAC;MACtD,WAAW,EAAEA,cAAc;MAC3B,SAAS,EAAE9G,OAAO;MAClB,cAAc,EAAE+E,WAAW,CAAC,CAAC;MAC7B,KAAK,EAAE+B,cAAc;MACrB,KAAK,EAAEjM,KAAK,CAAC8E;IACf,CAAC;EACH;EAEA,SAASoH,2BAA2BA,CAACD,cAAc,EAAE;IACnD,MAAMhI,KAAK,GAAGjE,KAAK,CAAC2L,GAAG,CAAC/H,MAAM,CAACmF,IAAI,IAAI;MACrC,OAAUA,IAAI,CAAC,KAAK,CAAC,IAAIkD,cAAc,IAAMlD,IAAI,CAAC,KAAK,CAAC,IAAI/I,KAAK,CAAC8E,MAAO,IAAOiE,IAAI,CAAC,KAAK,CAAC,IAAI/I,KAAK,CAAC8E,MAAM,IAAMiE,IAAI,CAAC,KAAK,CAAC,IAAIkD,cAAgB;IAClJ,CAAC,CAAC;IACA,OAAOhI,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;EAC9B;EAEA,SAASqI,8BAA8BA,CAACC,SAAS,EAAE;IACjD,MAAMtI,KAAK,GAAGjE,KAAK,CAACmJ,WAAW,CAACvF,MAAM,CAACmF,IAAI,IAAIA,IAAI,CAAC,IAAI,CAAC,IAAIwD,SAAS,CAAC;IACrE,OAAOtI,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;EAC9B;EAEA,SAASuF,iBAAiBA,CAAA,EAA+B;IAAA,IAA9B0B,MAAM,GAAAhH,SAAA,CAAAF,MAAA,QAAAE,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAGlE,KAAK,CAACuE,aAAa;IACrD,MAAMN,KAAK,GAAGjE,KAAK,CAAC2L,GAAG,CAAC/H,MAAM,CAACmF,IAAI,IAAIA,IAAI,CAAC,SAAS,CAAC,IAAImC,MAAM,CAAC;IAC9D,IAAIjH,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAIjE,KAAK,CAAC8E,MAAM,EAAE;MAClC,OAAOb,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;IACxB,CAAC,MAAM;MACL,OAAOA,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;IACxB;EACN;EAEA,SAASkI,UAAUA,CAACjB,MAAM,EAAEsB,MAAM,EAAE;IAClC,IAAInD,KAAK,GAAGrJ,KAAK,CAAC2L,GAAG,CAACrC,SAAS,CAAClG,CAAC,IAAIA,CAAC,CAACqJ,OAAO,IAAIvB,MAAM,CAAC;IACtD,IAAKlL,KAAK,CAAC2L,GAAG,CAACtC,KAAK,CAAC,CAAC,KAAK,CAAC,IAAImD,MAAM,EAAI;MACvC,IAAIxM,KAAK,CAAC2L,GAAG,CAACtC,KAAK,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;QACnCqD,SAAS,CAAC,CAAC;MACb;IACF,CAAC,MAAM;MACL,IAAI1M,KAAK,CAAC2L,GAAG,CAACtC,KAAK,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;QACnCqD,SAAS,CAAC,CAAC;MACb;IACF;EACN;EAEA,SAASA,SAASA,CAAA,EAAG;IACnB,IAAIC,KAAK,GAAG,IAAIC,KAAK,CAAC,CAAC;IACvBD,KAAK,CAACE,OAAO,GAAG,MAAM;IACtBF,KAAK,CAACG,GAAG,GAAG,yBAAyB;IACrCH,KAAK,CAACI,IAAI,CAAC,CAAC;EACd;EAEA,SAAS7D,aAAaA,CAACgC,MAAM,EAAE;IAC7B,IAAI7B,KAAK,GAAGrJ,KAAK,CAAC2L,GAAG,CAACrC,SAAS,CAAClG,CAAC,IAAIA,CAAC,CAACqJ,OAAO,IAAIvB,MAAM,CAAC;IACtD,IAAKlL,KAAK,CAAC2L,GAAG,CAACtC,KAAK,CAAC,CAAC,KAAK,CAAC,IAAIrJ,KAAK,CAAC8E,MAAM,EAAG;MAC5C9E,KAAK,CAAC2L,GAAG,CAACtC,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAGrJ,KAAK,CAAC2L,GAAG,CAACtC,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAGrJ,KAAK,CAAC2L,GAAG,CAACtC,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC;IAC9F,CAAC,MAAM;MACLrJ,KAAK,CAAC2L,GAAG,CAACtC,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAGrJ,KAAK,CAAC2L,GAAG,CAACtC,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAGrJ,KAAK,CAAC2L,GAAG,CAACtC,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC;IAC9F;IACA2D,WAAW,CAAC9B,MAAM,EAAElL,KAAK,CAAC2L,GAAG,CAACtC,KAAK,CAAC,CAAC,QAAQ,CAAC,EAAErJ,KAAK,CAAC2L,GAAG,CAACtC,KAAK,CAAC,CAAC,QAAQ,CAAC,CAAC;EACjF;EAEA,SAASrE,kBAAkBA,CAACJ,EAAE,EAAEC,MAAM,EAAE;IACtCoI,KAAK,CAAC;MACJC,MAAM,EAAE,MAAM;MACdC,GAAG,EAAE,uBAAuB;MAC5BC,OAAO,EAAE;QACT,cAAc,EAAE;MAClB,CAAC;MACCC,IAAI,EAAG;QAAC,IAAI,EAAEzI,EAAE;QAAE,QAAQ,EAAEC;MAAM;IAClC,CAAC,CAAC,CACDyI,IAAI,CAAC,MAAM;MACRC,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAC;IACxD,CAAC,CAAC,CACDC,KAAK,CAAC,UAASC,KAAK,EAAE;MACnBH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;IACtB,CAAC,CAAC;EACN;EAEA,SAASzC,cAAcA,CAACrG,EAAE,EAAE+I,MAAM,EAAEC,OAAO,EAAEzI,OAAO,EAAE0I,IAAI,EAAE;IAC1DZ,KAAK,CAAC;MACJC,MAAM,EAAE,MAAM;MACdC,GAAG,EAAE,kBAAkB;MACvBC,OAAO,EAAE;QACT,cAAc,EAAE;MAClB,CAAC;MACCC,IAAI,EAAG;QAAC,IAAI,EAAEzI,EAAE;QAAE,QAAQ,EAAE+I,MAAM;QAAE,SAAS,EAAEC,OAAO;QAAE,SAAS,EAAEzI,OAAO;QAAE,MAAM,EAAE0I;MAAI;IACxF,CAAC,CAAC,CACDP,IAAI,CAAC,MAAM;MACRC,OAAO,CAACC,GAAG,CAAC,gBAAgB,GAAGrI,OAAO,GAAG,qBAAqB,CAAC;IACnE,CAAC,CAAC,CACDsI,KAAK,CAAC,UAASC,KAAK,EAAE;MACnBH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;IACtB,CAAC,CAAC;EACN;EAEA,SAAS/D,iBAAiBA,CAAC/E,EAAE,EAAE+I,MAAM,EAAExI,OAAO,EAAE0I,IAAI,EAAE;IACpDZ,KAAK,CAAC;MACJC,MAAM,EAAE,MAAM;MACdC,GAAG,EAAE,qBAAqB;MAC1BC,OAAO,EAAE;QACT,cAAc,EAAE;MAClB,CAAC;MACCC,IAAI,EAAG;QAAC,IAAI,EAAEzI,EAAE;QAAE,QAAQ,EAAE+I,MAAM;QAAE,SAAS,EAAExI,OAAO;QAAE,MAAM,EAAE0I;MAAI;IACpE,CAAC,CAAC,CACDP,IAAI,CAAC,MAAM;MACVC,OAAO,CAACC,GAAG,CAAC,gBAAgB,GAAGrI,OAAO,GAAG,qBAAqB,CAAC;IACjE,CAAC,CAAC,CACDsI,KAAK,CAAC,UAASC,KAAK,EAAE;MACnBH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;IACtB,CAAC,CAAC;EACN;EAEA,SAASV,WAAWA,CAACW,MAAM,EAAEG,MAAM,EAAEC,MAAM,EAAE;IAC3Cd,KAAK,CAAC;MACJC,MAAM,EAAE,MAAM;MACdC,GAAG,EAAE,mBAAmB;MACxBC,OAAO,EAAE;QACT,cAAc,EAAE;MAClB,CAAC;MACCC,IAAI,EAAG;QAAC,QAAQ,EAAEM,MAAM;QAAE,QAAQ,EAAEG,MAAM;QAAE,QAAQ,EAAEC;MAAM;IAC5D,CAAC,CAAC,CACDT,IAAI,CAAC,MAAM;MACVC,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;IACxC,CAAC,CAAC,CACDC,KAAK,CAAC,UAASC,KAAK,EAAE;MACnBH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;IACtB,CAAC,CAAC;EACN;EAEA,SAASM,kBAAkBA,CAAC/J,KAAK,EAAE;IACjCA,KAAK,CAACH,OAAO,CAAC,CAACiF,IAAI,EAAEM,KAAK,KAAK;MAC7BrJ,KAAK,CAACwD,SAAS,CAAC6F,KAAK,CAAC,CAAC,cAAc,CAAC,GAAGN,IAAI,CAAC,cAAc,CAAC;MAC7D,IAAK/I,KAAK,CAACwD,SAAS,CAAC6F,KAAK,CAAC,CAAC,IAAI,CAAC,IAAIrJ,KAAK,CAAC8E,MAAM,IAAM9E,KAAK,CAAC+E,iBAAiB,IAAI,CAAE,IAAK/E,KAAK,CAACwD,SAAS,CAAC6F,KAAK,CAAC,CAAC,cAAc,CAAC,IAAI,CAAE,EAAG;QACtIrJ,KAAK,CAAC+E,iBAAiB,GAAG,CAAC;QAC3BkJ,iBAAiB,CAAC,CAAC;MACrB;IACF,CAAC,CAAC;IACF1L,eAAe,CAAC,CAAC;EACnB;EAEA,SAAS0L,iBAAiBA,CAAA,EAAG,CAE7B;EAEA,SAASzF,UAAUA,CAAA,EAA8B;IAAA,IAA7BwB,QAAQ,GAAA9F,SAAA,CAAAF,MAAA,QAAAE,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAC,kBAAkB;IAC7C,MAAMgK,QAAQ,GAAG/N,QAAQ,CAACK,aAAa,CAACwJ,QAAQ,CAAC;IACjDkE,QAAQ,CAAChG,KAAK,CAACiG,MAAM,GAAG,eAAe;IACvCC,UAAU,CAAC,MAAM;MACb;MACAF,QAAQ,CAAChG,KAAK,CAACiG,MAAM,GAAG,MAAM;IAClC,CAAC,EAAE,IAAI,CAAC;EACV;;EAEA;EACAlO,EAAE,CAACoO,SAAS,GAAIjL,CAAC,IAAI;IACf;IACA,IAAIkL,IAAI,GAAGhJ,IAAI,CAACiJ,KAAK,CAACnL,CAAC,CAACiK,IAAI,CAAC;IAC7B,QAAQiB,IAAI,CAACpJ,OAAO;MAClB,KAAK,SAAS;QACVqI,OAAO,CAACC,GAAG,CAACc,IAAI,CAAC;QACjBtC,wBAAwB,CAACsC,IAAI,CAACnJ,OAAO,EAAEmJ,IAAI,CAAC7E,IAAI,CAAC;QACjD;MACJ,KAAK,WAAW;QACZ8D,OAAO,CAACC,GAAG,CAACc,IAAI,CAAC;QACjBlC,6BAA6B,CAACkC,IAAI,CAACnJ,OAAO,CAAC;QAC3C;MACJ,KAAK,YAAY;QACboI,OAAO,CAACC,GAAG,CAACc,IAAI,CAAC;QACjBN,kBAAkB,CAACM,IAAI,CAACnJ,OAAO,CAAC;QAChC;MACJ,KAAK,MAAM;QACPoI,OAAO,CAACC,GAAG,CAACc,IAAI,CAAC;QACjBjC,2BAA2B,CAACrB,MAAM,CAACsD,IAAI,CAAC5E,SAAS,CAAC,EAAE4E,IAAI,CAAC7E,IAAI,EAAE6E,IAAI,CAACnJ,OAAO,CAAC;QAC5E;MACJ;QACEoI,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEc,IAAI,CAAC;IAClC;EACN,CAAC;AAEL,CAAC;AAED,iEAAevO,eAAe;;;;;;;;;;;;;;ACh5B9B,eAAeyO,QAAQA,CAACxO,KAAK,EAAE;EAE3B,MAAMyO,GAAG,GAAG,MAAM;;EAEnB;EACK,MAAMxB,KAAK,CAACyB,GAAG,CAAC,kBAAkB,GAAGD,GAAG,CAAC,CACxCnB,IAAI,CAACqB,GAAG,IAAI;IACTC,OAAO,CAACD,GAAG,CAACtB,IAAI,CAAC,CAAC,CAAC,CAACzI,EAAE,EAAE,QAAQ,CAAC;IACjCgK,OAAO,CAACD,GAAG,CAACtB,IAAI,CAAC,CAAC,CAAC,CAACpD,QAAQ,EAAE,UAAU,CAAC;IACzC2E,OAAO,CAACD,GAAG,CAACtB,IAAI,CAAC,CAAC,CAAC,CAACwB,MAAM,EAAE,QAAQ,CAAC;EACzC,CAAC,CAAC,CACDpB,KAAK,CAAC,UAASC,KAAK,EAAE;IACnBH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;EACtB,CAAC,CAAC;EACN;;EAED;EACK,MAAMT,KAAK,CAACyB,GAAG,CAAC,kBAAkB,GAAGD,GAAG,CAAC,CACxCnB,IAAI,CAACqB,GAAG,IAAI;IACT,IAAIG,GAAG,GAAGC,MAAM,CAACC,OAAO,CAACL,GAAG,CAACtB,IAAI,CAAC;IAClC,IAAI4B,CAAC,GAAG,CAAC;IACTH,GAAG,CAAChL,OAAO,CAAC,CAACiF,IAAI,EAAEkG,CAAC,KAAK;MACrBC,OAAO,CAACnG,IAAI,CAAC,CAAC,CAAC,EAAE,CAACkG,CAAC,GAAC,CAAC,CAAC,CAAC;IAC3B,CAAC,CAAC;IACF1B,OAAO,CAACC,GAAG,CAAC,WAAW,EAAExN,KAAK,CAAC2L,GAAG,CAAC;EACvC,CAAC,CAAC;EACP;;EAEC;EACI,MAAMsB,KAAK,CAACyB,GAAG,CAAC,sBAAsB,GAAGD,GAAG,CAAC,CAC5CnB,IAAI,CAACqB,GAAG,IAAI;IACT,IAAIG,GAAG,GAAGC,MAAM,CAACC,OAAO,CAACL,GAAG,CAACtB,IAAI,CAAC;IAClCyB,GAAG,CAAChL,OAAO,CAAC,CAACiF,IAAI,EAAEkG,CAAC,KAAK;MACrB7F,UAAU,CAACL,IAAI,CAAC,CAAC,CAAC,EAAE,CAACkG,CAAC,CAAC,CAAC;IAC5B,CAAC,CAAC;IACF1B,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAExN,KAAK,CAACmJ,WAAW,CAAC;EACvD,CAAC,CAAC;EACP;;EAEC;EACI,MAAM8D,KAAK,CAACyB,GAAG,CAAC,qBAAqB,GAAGD,GAAG,CAAC,CAC3CnB,IAAI,CAACqB,GAAG,IAAI;IACT,IAAIG,GAAG,GAAGC,MAAM,CAACC,OAAO,CAACL,GAAG,CAACtB,IAAI,CAAC;IAClCyB,GAAG,CAAChL,OAAO,CAAC,CAACiF,IAAI,EAAEkG,CAAC,KAAK;MACrB,IAAIlG,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI/I,KAAK,CAAC8E,MAAM,EAAE;QAC/B9E,KAAK,CAAC+E,iBAAiB,GAAGgE,IAAI,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC;QACjDwE,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAExN,KAAK,CAAC+E,iBAAiB,CAAC;MAClE;MACFoK,YAAY,CAACpG,IAAI,CAAC,CAAC,CAAC,EAAE,CAACkG,CAAC,CAAC,CAAC;IAC9B,CAAC,CAAC;IACF1B,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAExN,KAAK,CAACwD,SAAS,CAAC;EACnD,CAAC,CAAC;EACN;;EAEA,SAASoL,OAAOA,CAACQ,GAAG,EAAEC,KAAK,EAAE;IACzBrP,KAAK,CAACqP,KAAK,CAAC,GAAGD,GAAG;IAClB7B,OAAO,CAACC,GAAG,CAAC6B,KAAK,EAAErP,KAAK,CAACqP,KAAK,CAAC,CAAC;EACpC;EAEA,SAASjG,UAAUA,CAACgG,GAAG,EAAEC,KAAK,EAAE;IAC5BrP,KAAK,CAACmJ,WAAW,CAACkG,KAAK,CAAC,GAAGD,GAAG;EAClC;EAEA,SAASF,OAAOA,CAACE,GAAG,EAAEC,KAAK,EAAE;IACzBrP,KAAK,CAAC2L,GAAG,CAAC0D,KAAK,CAAC,GAAGD,GAAG;EAC1B;EAEA,SAASD,YAAYA,CAACC,GAAG,EAAEC,KAAK,EAAE;IAC9BrP,KAAK,CAACwD,SAAS,CAAC6L,KAAK,CAAC,GAAGD,GAAG;EAChC;;EAEA;EACA;EACA;EACA;AAEJ;;AAAC;AAED,iEAAeZ,QAAQ;;;;;;;;;;;;;;AC9EvB,MAAMc,SAAS,GAAGA,CAAA,KAAM;EAEhB,IAAIC,WAAW,GAAGpP,QAAQ,CAACK,aAAa,CAAC,cAAc,CAAC;EACxD,IAAIgP,QAAQ,GAAGrP,QAAQ,CAACK,aAAa,CAAC,WAAW,CAAC;EAClD,IAAIiP,YAAY,GAAGtP,QAAQ,CAACK,aAAa,CAAC,eAAe,CAAC;EAC1D,IAAIkP,SAAS,GAAGvP,QAAQ,CAACK,aAAa,CAAC,YAAY,CAAC;EACpD,IAAImP,YAAY,GAAG,KAAK;EACxB,IAAIC,aAAa,GAAG,KAAK;EACzB,IAAIrO,aAAa;EAEjBsO,YAAY,CAAC,CAAC;EAEd,SAASA,YAAYA,CAAA,EAAG;IACpBN,WAAW,CAACpM,gBAAgB,CAAC,OAAO,EAAE,YAAU;MAC5C,IAAI,CAACyM,aAAa,EAAE;QAChBE,WAAW,CAAC,CAAC;QACbC,cAAc,CAAC,CAAC;MACpB;IACJ,CAAC,CAAC;IAEFN,YAAY,CAACtM,gBAAgB,CAAC,OAAO,EAAE,YAAU;MAC7C,IAAI,CAACwM,YAAY,EAAE;QACfG,WAAW,CAAC,CAAC;QACbE,eAAe,CAAC,CAAC;MACrB;IACJ,CAAC,CAAC;IAEF9J,MAAM,CAAC/C,gBAAgB,CAAC,OAAO,EAAEC,CAAC,IAAI;MAClC,IAAIA,CAAC,CAACE,MAAM,CAACgD,SAAS,CAACC,QAAQ,CAAC,iBAAiB,CAAC,EAAE;QAChDsD,YAAY,CAAC,CAAC;MAClB;IACJ,CAAC,CAAC;IAEF3D,MAAM,CAAC/C,gBAAgB,CAAC,SAAS,EAAEC,CAAC,IAAI;MACpC,IAAKA,CAAC,CAAC0G,GAAG,KAAK,QAAQ,IAAM6F,YAAY,IAAMC,aAAc,CAAC,EAAE;QAC5D/F,YAAY,CAAC,CAAC;MAClB;IACJ,CAAC,CAAC;IAEF1J,QAAQ,CAACK,aAAa,CAAC,cAAc,CAAC,CAACyP,QAAQ,CAAC,CAAC,EAAE9P,QAAQ,CAACqH,IAAI,CAAC0I,YAAY,CAAC;EAClF;EAEA,SAASrG,YAAYA,CAAA,EAAG;IAChB,IAAI8F,YAAY,EAAE;MACdG,WAAW,CAAC,CAAC;MACbC,cAAc,CAAC,CAAC;IACpB;IACA,IAAIH,aAAa,EAAE;MACfE,WAAW,CAAC,CAAC;MACbE,eAAe,CAAC,CAAC;IACrB;EACR;EAEA,SAASD,cAAcA,CAAA,EAAG;IACrB,CAACJ,YAAY,GAAIA,YAAY,GAAG,IAAI,GAAGA,YAAY,GAAG,KAAK;IAC5DH,QAAQ,CAAClJ,SAAS,CAAC6J,MAAM,CAAC,QAAQ,CAAC;IACnCZ,WAAW,CAACjJ,SAAS,CAAC6J,MAAM,CAAC,QAAQ,CAAC;EAC1C;EAEA,SAASH,eAAeA,CAAA,EAAG;IACtB,CAACJ,aAAa,GAAIA,aAAa,GAAG,IAAI,GAAGA,aAAa,GAAG,KAAK;IAC/DF,SAAS,CAACpJ,SAAS,CAAC6J,MAAM,CAAC,QAAQ,CAAC;IACpCV,YAAY,CAACnJ,SAAS,CAAC6J,MAAM,CAAC,QAAQ,CAAC;EAC3C;EAEA,SAASL,WAAWA,CAAA,EAAG;IACnB,IAAK,CAACF,aAAa,GAAK,CAACD,YAAa,EAAE;MACpCpO,aAAa,GAAGpB,QAAQ,CAACmL,aAAa,CAAC,KAAK,CAAC;MAC7C/J,aAAa,CAAC+E,SAAS,CAACQ,GAAG,CAAC,iBAAiB,CAAC;MAC9C3G,QAAQ,CAACqH,IAAI,CAAC+D,WAAW,CAAChK,aAAa,CAAC;MACxCA,aAAa,CAAC+E,SAAS,CAACQ,GAAG,CAAC,uBAAuB,CAAC;IACxD,CAAC,MAAM;MACHvF,aAAa,CAAC+E,SAAS,CAACS,MAAM,CAAC,uBAAuB,CAAC;MACvDxF,aAAa,CAAC+E,SAAS,CAACS,MAAM,CAAC,iBAAiB,CAAC;MACjD5G,QAAQ,CAACqH,IAAI,CAACgE,WAAW,CAACjK,aAAa,CAAC;IAC5C;EACJ;AACR,CAAC;AAED,iEAAe+N,SAAS;;;;;;;;;;;;;;AC/ExB,MAAMc,mBAAmB,GAAIpQ,KAAK,IAAK;EAEnC,MAAMqQ,aAAa,GAAGlQ,QAAQ,CAACK,aAAa,CAAC,mBAAmB,CAAC;EACjE,MAAMsB,WAAW,GAAG3B,QAAQ,CAACK,aAAa,CAAC,cAAc,CAAC;EAE1D0B,IAAI,CAAC,CAAC;EAEN,SAASA,IAAIA,CAAA,EAAG;IACZoO,cAAc,CAAC,CAAC;IAChBC,cAAc,CAAC,CAAC;IAChBC,YAAY,CAAC,CAAC;IACdC,cAAc,CAACzQ,KAAK,CAAC2L,GAAG,CAAC;IACzB+E,aAAa,CAAC,CAAC;IACfC,qBAAqB,CAAC3Q,KAAK,CAAC2L,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;EAClD;EAEA,SAAS4E,cAAcA,CAAA,EAAG;IACtB,MAAMK,aAAa,GAAGzQ,QAAQ,CAACK,aAAa,CAAC,WAAW,CAAC;IACzDoQ,aAAa,CAAC7M,SAAS,GACtB;AACT,+CAA+C/D,KAAK,CAACyE,MAAO,GAAEzE,KAAK,CAAC6O,MAAO;AAC3E;AACA;AACA;AACA,SAAS;EACL;EAEA,SAAS2B,YAAYA,CAAA,EAAG;IACpB,MAAMK,WAAW,GAAG1Q,QAAQ,CAACK,aAAa,CAAC,SAAS,CAAC;IACrDqQ,WAAW,CAAC9M,SAAS,GACpB;AACT,8DAA8D/D,KAAK,CAACiK,QAAS;AAC7E,SAAS;EACL;EAEA,SAAS0G,qBAAqBA,CAAC/L,EAAE,EAAE;IAC/B5E,KAAK,CAACuE,aAAa,GAAGK,EAAE;IACxB,IAAIJ,IAAI,GAAGxE,KAAK,CAAC2L,GAAG,CAAC/H,MAAM,CAACR,CAAC,IAAI;MAAC,OAAOA,CAAC,CAAC,SAAS,CAAC,IAAIwB,EAAE;IAAC,CAAC,CAAC;IAC9D,MAAMkM,MAAM,GAAG3Q,QAAQ,CAACK,aAAa,CAAC,iBAAiB,CAAC;IACxD,MAAMuQ,OAAO,GAAG5Q,QAAQ,CAACK,aAAa,CAAC,eAAe,CAAC;IAEvD,IAAIR,KAAK,CAACuE,aAAa,GAAG,KAAK,EAAE;MAC7BuM,MAAM,CAAC/M,SAAS,GACf;AACb;AACA,qDAAqD/D,KAAK,CAACyE,MAAO,GAAED,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAE;AACtF;AACA;AACA;AACA,4BAA4BA,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU,CAAE;AAChD;AACA;AACA;AACA;AACA;AACA,aAAa;MACDuM,OAAO,CAAC7I,KAAK,GAAG,YAAY;IAChC,CAAC,MAAM;MACH4I,MAAM,CAAC/M,SAAS,GACf;AACb,iDAAiD/D,KAAK,CAACyE,MAAO,GAAED,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAE;AAClF;AACA;AACA;AACA,4BAA4BA,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU,CAAE;AAChD;AACA;AACA;AACA;AACA;AACA,aAAa;MACDf,aAAa,CAAC,CAAC;MACfsN,OAAO,CAAC7I,KAAK,GAAG,YAAY;IAChC;IACA,IAAKlI,KAAK,CAACuE,aAAa,GAAG,KAAK,IAAM,CAACvE,KAAK,CAACuE,aAAa,GAAG,KAAK,KAAMvE,KAAK,CAAC+E,iBAAiB,IAAI,CAAG,EAAE;MACpGiM,UAAU,CAACpM,EAAE,CAAC;IAClB;IACD;EACH;;EAEA,SAASnB,aAAaA,CAAA,EAAG;IACrB,IAAIC,WAAW,GAAGvD,QAAQ,CAACK,aAAa,CAAC,cAAc,CAAC;IACxD,IAAImD,QAAQ,GAAG3D,KAAK,CAACwD,SAAS,CAACI,MAAM,CAACR,CAAC,IAAIA,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IAClE,IAAIS,IAAI,GAAG,EAAE,CAAC,CAAC;IACfF,QAAQ,CAACG,OAAO,CAACV,CAAC,IAAI;MAACS,IAAI,IAAIT,CAAC,CAAC,UAAU,CAAC,GAAG,QAAQ;IAAA,CAAC,CAAC;IACzDM,WAAW,CAACK,SAAS,GAAG,EAAE;IAC1BL,WAAW,CAACK,SAAS,GAAG,gBAAeF,IAAK,gBAAeF,QAAQ,CAACK,MAAO,SAAQ;EACvF;EAEA,SAASgN,UAAUA,CAAC9F,MAAM,EAAE;IACxB+F,UAAU,CAAC,CAAC;IACZ,MAAMhN,KAAK,GAAGjE,KAAK,CAACmJ,WAAW,CAACvF,MAAM,CAACmF,IAAI,IAAIA,IAAI,CAAC,SAAS,CAAC,IAAImC,MAAM,CAAC;IACzEjH,KAAK,CAACH,OAAO,CAAE6H,GAAG,IAAK;MACf,IAAIA,GAAG,CAAC,WAAW,CAAC,IAAI3L,KAAK,CAAC8E,MAAM,EAAE;QAClChD,WAAW,CAACiC,SAAS,IAAK;AAC9C,mGAAmG4H,GAAG,CAAC,IAAI,CAAE;AAC7G;AACA,2EAA2E3L,KAAK,CAACiK,QAAS,KAAI0B,GAAG,CAAC,SAAS,CAAE;AAC7G,2EAA2EA,GAAG,CAAC,cAAc,CAAE;AAC/F;AACA;AACA,qBAAqB;MACL,CAAC,MAAM;QACH7J,WAAW,CAACiC,SAAS,IAAK;AAC9C,qGAAqG4H,GAAG,CAAC,IAAI,CAAE;AAC/G;AACA,6EAA6EA,GAAG,CAAC,SAAS,CAAE;AAC5F,6EAA6EA,GAAG,CAAC,cAAc,CAAE;AACjG;AACA;AACA,qBAAqB;MACL;IACR,CAAC,CAAC;EACN;EAEA,SAASsF,UAAUA,CAAA,EAAG;IAClBnP,WAAW,CAACiC,SAAS,GAAI,EAAC;EAC/B;EAEC,SAAS2M,aAAaA,CAAA,EAAG;IACrBL,aAAa,CAAClN,gBAAgB,CAAC,OAAO,EAAE,UAASC,CAAC,EAAE;MAChD,IAAIuC,IAAI,GAAGvC,CAAC,CAACE,MAAM;MACnB,IAAIsB,EAAE;MACN,GAAG;QACCgB,OAAO,CAACD,IAAI,EAAE,SAAS,CAAC,GAAGf,EAAE,GAAGe,IAAI,CAACE,YAAY,CAAC,SAAS,CAAC,GAAGF,IAAI,GAAGA,IAAI,CAACG,UAAU;MACzF,CAAC,QAAQ,CAAClB,EAAE;MACZ,IAAGA,EAAE,EAAE;QACH+L,qBAAqB,CAAC/L,EAAE,CAAC;MAC7B;IACJ,CAAC,CAAC;EACN;EAEA,SAASgB,OAAOA,CAACG,OAAO,EAAEC,IAAI,EAAE;IAC5B,IAAG,OAAOD,OAAO,KAAK,QAAQ,IAAIA,OAAO,KAAK,IAAI,IAAI,cAAc,IAAIA,OAAO,IAAKA,OAAO,CAACE,YAAY,CAACD,IAAI,CAAC,EAAE;MAC9G,OAAO,IAAI;IACb,CAAC,MAAM;MACL,OAAO,KAAK;IACd;EACJ;EAEA,SAASkL,QAAQA,CAACjN,KAAK,EAAE;IACrB,IAAKA,KAAK,CAAC,KAAK,CAAC,IAAIjE,KAAK,CAAC8E,MAAM,IAAM9E,KAAK,CAAC8E,MAAM,IAAI,KAAM,EAAE;MAC1D,OAAOb,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAI,WAAW,GAAG,iBAAiB;IACnE,CAAC,MAAM;MACF,OAAOA,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAI,WAAW,GAAG,iBAAiB;IACnE;EACJ;EAEA,SAASwM,cAAcA,CAACxM,KAAK,EAAE;IAC5BkN,cAAc,CAAC,CAAC;IAChB;IACClN,KAAK,CAACH,OAAO,CAAEU,IAAI,IAAK;MACpB,IAAKA,IAAI,CAAC,KAAK,CAAC,IAAIxE,KAAK,CAAC8E,MAAM,IAAMN,IAAI,CAAC,KAAK,CAAC,IAAIxE,KAAK,CAAC8E,MAAO,IAAKN,IAAI,CAAC,KAAK,CAAC,IAAI,KAAM,EAAE;QACtF,IAAI4M,KAAK,GAAGF,QAAQ,CAAC1M,IAAI,CAAC;QAC1B,IAAI6M,KAAK,GAAG7M,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,OAAO,GAAGA,IAAI,CAAC,OAAO,CAAC;QAC/D6L,aAAa,CAACtM,SAAS,IAAK;AAChD,qEAAqES,IAAI,CAAC,SAAS,CAAE;AACrF;AACA;AACA,iEAAiExE,KAAK,CAACyE,MAAO,GAAED,IAAI,CAAC,QAAQ,CAAE;AAC/F;AACA;AACA;AACA;AACA;AACA,wCAAwCA,IAAI,CAAC,UAAU,CAAE,wBAAuB4M,KAAM;AACtF;AACA;AACA,wCAAwCC,KAAM;AAC9C;AACA;AACA;AACA,qBAAqB;MACT;IACJ,CAAC,CAAC;EAEN;EAEA,SAASF,cAAcA,CAAA,EAAG;IACrBd,aAAa,CAACtM,SAAS,GAAI,EAAC;EACjC;EAEA,SAASuN,YAAYA,CAAA,EAAG;IACpBtR,KAAK,CAAC2L,GAAG,CAAC4F,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACC,QAAQ,GAAGF,CAAC,CAACE,QAAQ,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;EAC9D;EAEA,SAASrO,cAAcA,CAACE,KAAK,EAAEU,KAAK,EAAE;IAClC,OAAOA,KAAK,CAACL,MAAM,CAACiI,EAAE,IAAIA,EAAE,CAAC,UAAU,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,OAAO,CAACxI,KAAK,CAACuI,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;EAC/F;EAEA,SAASwE,cAAcA,CAAA,EAAG;IAClB,IAAIzO,MAAM,GAAG1B,QAAQ,CAACK,aAAa,CAAC,SAAS,CAAC;IAC9CqB,MAAM,CAACsB,gBAAgB,CAAC,OAAO,EAAEC,CAAC,IAAI;MAClCqN,cAAc,CAACpN,cAAc,CAACD,CAAC,CAACE,MAAM,CAACC,KAAK,EAAEvD,KAAK,CAAC2L,GAAG,CAAC,CAAC;IAC7D,CAAC,CAAC;EACV;AAEJ,CAAC;AAED,iEAAeyE,mBAAmB;;;;;;UCvMlC;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;ACN0C;AACE;AACY;AACQ;AAChE;;AAEA,IAAIpQ,KAAK,GAAG;EACR8E,MAAM,EAAE,EAAE;EAAE;EACZmF,QAAQ,EAAE,EAAE;EAAE;EACd4E,MAAM,EAAE,EAAE;EACV9J,iBAAiB,EAAE,CAAC;EACpB4G,GAAG,EAAE,EAAE;EAAE;EACTxC,WAAW,EAAE,EAAE;EAAE;EACjB3F,SAAS,EAAE,EAAE;EACbe,aAAa,EAAE,CAAC;EAAE;EAClBiC,SAAS,EAAE,CAAC;EAAE;EACd/B,MAAM,EAAE,2BAA2B,CAAE;AACzC,CAAC;;AACDzE,KAAK,CAAC2L,GAAG,CAAC,CAAC,CAAC,GAAG;EAAC,IAAI,EAAE,CAAC;EAAE,SAAS,EAAE,KAAK;EAAE,KAAK,EAAE,KAAK;EAAE,QAAQ,EAAE,CAAC;EAAE,KAAK,EAAE,KAAK;EAAE,QAAQ,EAAE,CAAC;EAAE,UAAU,EAAC,EAAE;EAAE,OAAO,EAAE,KAAK;EAAE,UAAU,EAAC,YAAY;EAAE,QAAQ,EAAE,cAAc;EAAE,cAAc,EAAE,CAAC;EAAE,cAAc,EAAE;AAAC,CAAC;AAExNzF,MAAM,CAAC/C,gBAAgB,CAAC,kBAAkB,EAAE,MAAM;EAE9CqL,6DAAQ,CAACxO,KAAK,CAAC,CAACsN,IAAI,CAAC,YAAY;IAC/B,OAAOgC,8DAAS,CAAC,CAAC;EACpB,CAAC,CAAC,CAAChC,IAAI,CAAC,YAAY;IAClB,OAAO8C,wEAAmB,CAACpQ,KAAK,CAAC;EACnC,CAAC,CAAC,CAACsN,IAAI,CAAC,YAAY;IAClB,OAAOvN,oEAAe,CAACC,KAAK,EAAEC,EAAE,CAAC;EACnC,CAAC,CAAC,CAACqN,IAAI,CAAC,YAAY;IAClB;IACA,MAAMrN,EAAE,GAAG,IAAI0R,qBAAqB,CAAC,qBAAqB,CAAC;IAC3D1R,EAAE,CAAC2R,KAAK,GAAG,IAAI;IACf3R,EAAE,CAAC4R,eAAe,GAAG,IAAI;EAC3B,CAAC,CAAC;EAEF5R,EAAE,CAAC6R,MAAM,GAAG,MAAM;IAChB;IACAvE,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC;IACjDuE,YAAY,CAAC/R,KAAK,CAAC8E,MAAM,CAAC;EAC5B,CAAC;EAED7E,EAAE,CAAC+R,OAAO,GAAG,MAAM;IACjBzE,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;EAC5C,CAAC;EAEDvN,EAAE,CAACgS,OAAO,GAAGvE,KAAK,IAAI;IACpBH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;EACpB,CAAC;EAED,SAASqE,YAAYA,CAACnN,EAAE,EAAE;IACxB,IAAIA,EAAE,IAAI,EAAE,EAAE;MACV3E,EAAE,CAACoF,IAAI,CAACC,IAAI,CAACC,SAAS,CAAC;QACrBL,OAAO,EAAE,UAAU;QACnBsH,MAAM,EAAE5H;MACV,CAAC,CAAC,CAAC,CAAC,CAAC;MACL3E,EAAE,CAACoF,IAAI,CAACC,IAAI,CAACC,SAAS,CAAC;QACrBL,OAAO,EAAE,WAAW;QACpBE,OAAO,EAAE;MACX,CAAC,CAAC,CAAC;MACHmI,OAAO,CAACC,GAAG,CAAC,MAAM,GAAG5I,EAAE,GAAG,MAAM,CAAC;MACjC,OAAO,IAAI;IACf,CAAC,MAAM;MACH,OAAO,KAAK;IAChB;EACF;AAEJ,CAAC,CAAC,C","sources":["webpack://chat/./src/js/modules/actionListeners.js","webpack://chat/./src/js/modules/getState.js","webpack://chat/./src/js/modules/hamburger.js","webpack://chat/./src/js/modules/renderChatComponets.js","webpack://chat/webpack/bootstrap","webpack://chat/webpack/runtime/define property getters","webpack://chat/webpack/runtime/hasOwnProperty shorthand","webpack://chat/webpack/runtime/make namespace object","webpack://chat/./src/js/main.js"],"sourcesContent":["const actionListeners = (state, ws) => {\r\n\r\n    // Объявление переменных\r\n    let contextMenuLink = document.querySelectorAll(\".context-menu__link\"); \r\n    let contextMenuActive = \"context-menu--active\";\r\n    let contextMenuActive2 = \"context-menu2--active\";\r\n\r\n    let divUser = document.querySelector(\".sidebarleft_body\");\r\n    let divPost = document.querySelector(\".chatcontent\");\r\n \r\n    let menu;\r\n    let menuState = 0;\r\n    let menuWidth;\r\n    let menuHeight;\r\n    let windowWidth;\r\n    let windowHeight;\r\n    let clickCoords;\r\n    let clickCoordsX;\r\n    let clickCoordsY;\r\n\r\n    let btnSend = document.querySelector('.chatmessage_send');\r\n    let inputSend = document.querySelector('.chatwindow_newMessageInput');\r\n\r\n    let windowEditFlag = false, windowTransferFlag = false;\r\n    let shadowOverlay;\r\n    let windowEditTag = document.querySelector('.layerEdit');\r\n    let windowListChatTag = document.querySelector('.layerListChat');\r\n\r\n    let listener1, listener2;\r\n    let listForward = windowListChatTag.querySelector(\".chatlistForward\");\r\n    let search = document.querySelector(\"#search3\");\r\n\r\n   \r\n    const chatContext = document.querySelector(\".chatcontent\"); \r\n    let configWindow = document.querySelector(\".configChat\");\r\n    let leftPanel = configWindow.querySelector(\".chatlist\");\r\n    let rightPanel = configWindow.querySelector(\".chatcontacts\");\r\n\r\n    \r\n    init();\r\n\r\n    function init() {\r\n        inputSend.focus();\r\n        LeftListener();\r\n        RightListener();\r\n        filterChatGroupList();\r\n        renderLeftPanel();\r\n        addForwardtListener();\r\n        addEditorListener();\r\n        addWindowEditListener();\r\n        postListener();\r\n        userListener();\r\n        clickListener();\r\n        contextMenuOffLeftClick();\r\n        contextMenuOffRightClick();\r\n        keyEscListener();\r\n        resizeListener();\r\n        filterForwardList();\r\n      }\r\n\r\n   function filterChatGroupList() {\r\n        let search = document.querySelector(\"#search2\");\r\n        search.addEventListener(\"input\", e => {\r\n            renderLeftPanel(filterUserName(e.target.value, state.listgroup));\r\n        });\r\n    }\r\n\r\n    function calcGroupSize() {\r\n        let headerCount = document.querySelector(\".header_info\");\r\n        let chatList = state.listgroup.filter(e => {\r\n            return (e[\"group_status\"] == 1);\r\n        });\r\n        let text = ''; //state.username + '&#013;';\r\n        chatList.forEach(e => {text += e['username'] + '&#013;'});\r\n        headerCount.innerHTML = '';\r\n        headerCount.innerHTML =`<span title=\"${text}\">Участники: ${chatList.length}</span>`;\r\n    }\r\n\r\n    function renderLeftPanel(array = state.listgroup) {\r\n          removeLeftPanel();\r\n          let rightarray = [];\r\n          let leftarray = [];             \r\n          leftarray = array.filter(e => {\r\n                return (e[\"group_status\"] == 0);\r\n          });\r\n          rightarray = state.listgroup.filter(e => {\r\n               return (e[\"group_status\"] == 1);\r\n          });\r\n          if ( state.currentchatid > 10000) {\r\n            calcGroupSize();\r\n          }\r\n\r\n          leftarray.forEach((user) => {\r\n            leftPanel.innerHTML += `\r\n                        <div class=\"sidebarleft_contact_chat\" data-id=\"${user['id']}\">\r\n                            <div class=\"sidebarleft_avatar\">\r\n                                <span class=\"avatar\">\r\n                                    <img class=\"avatar-photo\" src=\"${state.urlImg}${user['avatar']}\">\r\n                                </span>\r\n                                </div>\r\n                                <div class=\"sidebarleft_title\">\r\n                                <div class=\"sidebarleft_owner\">\r\n                                    <span>${user['username']} </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        `;\r\n        });\r\n        renderRightPanel(rightarray);   \r\n    }\r\n\r\n    function setState(id, status) {\r\n            state.listgroup.forEach(e => {\r\n                if(e[\"id\"] == id) {\r\n                    e[\"group_status\"] = status;\r\n                    if (e['id'] == state.userID) {\r\n                      state.groupStatusMyUser = status;\r\n                    }\r\n                    stateGroupChatInDB(id, status);\r\n                    // Синхронизация таблицы \r\n                    let post = {\r\n                      command: \"updatelist\", \r\n                      message: state.listgroup,\r\n                      channel: \"10001\"\r\n                    };\r\n                    ws.send(JSON.stringify(post));\r\n                }\r\n            });\r\n    }\r\n      \r\n    function renderRightPanel(array) {\r\n        removeRightPanel();\r\n        array.forEach((user) => {\r\n            rightPanel.innerHTML += `\r\n                        <div class=\"sidebarleft_contact_chat\" data-id=\"${user['id']}\">\r\n                            <div class=\"sidebarleft_avatar\">\r\n                                <span class=\"avatar\">\r\n                                    <img class=\"avatar-photo\" src=\"${state.urlImg}${user['avatar']}\">\r\n                                </span>\r\n                                </div>\r\n                                <div class=\"sidebarleft_title\">\r\n                                    <div class=\"sidebarleft_owner\">\r\n                                        <span>${user['username']} </span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        `;\r\n        });\r\n    }\r\n  \r\n    function removeLeftPanel() {\r\n        leftPanel.innerHTML = ``;\r\n    }\r\n\r\n    function removeRightPanel() {\r\n        rightPanel.innerHTML = ``;\r\n    }\r\n\r\n    function LeftListener() {\r\n        leftPanel.addEventListener( \"click\", function(e) {\r\n          let ItemIdContext  =  getIdOnClick(e); \r\n          let search = document.querySelector(\"#search2\");\r\n          search.value = '';\r\n          setState(ItemIdContext, 1);\r\n          renderLeftPanel();  \r\n        });      \r\n    }\r\n\r\n    function RightListener() {\r\n        rightPanel.addEventListener( \"click\", function(e) {\r\n          let ItemIdContext  =  getIdOnClick(e);\r\n          setState(ItemIdContext, 0);\r\n          renderLeftPanel();  \r\n        });     \r\n    }\r\n  \r\n    function getIdOnClick(e) { \r\n        let node = e.target;\r\n        let id;\r\n        do {\r\n            hasAttr(node, \"data-id\") ? id = node.getAttribute(\"data-id\") : node = node.parentNode;\r\n        } while (!id);\r\n        return id;\r\n    }\r\n    \r\n    function hasAttr(element, attr) {\r\n        if(typeof element === 'object' && element !== null && 'getAttribute' in element  && element.hasAttribute(attr)) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n    }\r\n\r\n    function keyEscListener() {\r\n        window.onkeyup = function(e) {\r\n          if ( e.keyCode === 27 ) { // Esc\r\n            toggleMenuOff();\r\n          }\r\n        };\r\n    }\r\n  \r\n    function contextMenuOffLeftClick() {\r\n      document.addEventListener(\"click\", function() {\r\n        if ( menuState !== 0 ) {\r\n          toggleMenuOff();\r\n        }\r\n      });\r\n    }\r\n  \r\n    function contextMenuOffRightClick() {\r\n      document.addEventListener(\"contextmenu\", function() {\r\n        if ( menuState !== 0 ) {\r\n          toggleMenuOff();\r\n        }\r\n      });\r\n    }\r\n  \r\n    function userListener() {\r\n        divUser.addEventListener( \"contextmenu\", function(e) {\r\n          if (!e.target.classList.contains('sidebarleft_body')) {\r\n            state.currentid  =  getIdOnClick(e);\r\n            toggleMenuOff();\r\n            e.preventDefault();\r\n            menu = document.querySelector(\".context-menu2\");\r\n            toggleMenuOn2();\r\n            positionMenu(e);\r\n            e.stopPropagation();\r\n          }\r\n        });\r\n      \r\n    }\r\n  \r\n    function postListener() {\r\n      divPost.addEventListener(\"contextmenu\", function (e) {\r\n        if ((e.target.classList.contains('chatcontent_mymessage_text') || e.target.classList.contains('chatcontent_body--my')) && getIdOnClick(e) != 0) {\r\n          state.currentid = getIdOnClick(e);\r\n          toggleMenuOff();\r\n          e.preventDefault();\r\n          menu = document.querySelector(\".context-menu\");\r\n          toggleMenuOn();\r\n          positionMenu(e);\r\n          e.stopPropagation();\r\n        }\r\n      });\r\n    }\r\n  \r\n    function toggleMenuOn() {\r\n        if ( menuState !== 1 ) {\r\n          menuState = 1;\r\n          menu.classList.add(contextMenuActive);\r\n        }\r\n    }\r\n  \r\n    function toggleMenuOn2() {\r\n      if ( menuState !== 1 ) {\r\n        menuState = 1;\r\n        menu.classList.add(contextMenuActive2);\r\n      }\r\n    }\r\n    \r\n    function toggleMenuOff() {  // Закрытие всех всплывающих окон\r\n        if ( menuState !== 0 ) {\r\n          menuState = 0;\r\n          menu.classList.remove(contextMenuActive);\r\n          menu.classList.remove(contextMenuActive2);\r\n        }\r\n    }\r\n  \r\n    function getPosition(e) {\r\n      var posx = 0;\r\n      var posy = 0;\r\n     \r\n      if (!e) {\r\n        let e = window.event;\r\n      }\r\n     \r\n      if (e.pageX || e.pageY) {\r\n        posx = e.pageX;\r\n        posy = e.pageY;\r\n      } else if (e.clientX || e.clientY) {\r\n        posx = e.clientX + document.body.scrollLeft + \r\n                           document.documentElement.scrollLeft;\r\n        posy = e.clientY + document.body.scrollTop + \r\n                           document.documentElement.scrollTop;\r\n      }\r\n     \r\n      return {\r\n        x: posx,\r\n        y: posy\r\n      };\r\n    }\r\n  \r\n    function positionMenu(e) {\r\n      clickCoords = getPosition(e);\r\n      clickCoordsX = clickCoords.x;\r\n      clickCoordsY = clickCoords.y;\r\n     \r\n      menuWidth = menu.offsetWidth + 4;\r\n      menuHeight = menu.offsetHeight + 4;\r\n     \r\n      windowWidth = window.innerWidth;\r\n      windowHeight = window.innerHeight;\r\n     \r\n      if ( (windowWidth - clickCoordsX) < menuWidth ) {\r\n        menu.style.left = windowWidth - menuWidth + \"px\";\r\n      } else {\r\n        menu.style.left = clickCoordsX + \"px\";\r\n      }\r\n     \r\n      if ( (windowHeight - clickCoordsY) < menuHeight ) {\r\n        menu.style.top = windowHeight - menuHeight + \"px\";\r\n      } else {\r\n        menu.style.top = clickCoordsY + \"px\";\r\n      }\r\n    }\r\n  \r\n    function resizeListener() {\r\n      window.onresize = function(e) {\r\n        toggleMenuOff();\r\n      };\r\n    }\r\n  \r\n    function clickListener() {\r\n      contextMenuLink.forEach(function (element) {\r\n        element.addEventListener( \"click\", function(e) {\r\n          e.preventDefault();\r\n          actionByRightClick(e.target);\r\n        });\r\n      });\r\n    }\r\n  \r\n    function actionByRightClick( link ) {  \r\n      toggleMenuOff();    \r\n      if ((link.getAttribute(\"data-action\") != \"switch\") && (state.groupStatusMyUser == 0) && (state.currentchatid == '10001')) {\r\n        errorValue(\".chatcontent\");\r\n      } else {\r\n        switch (link.getAttribute(\"data-action\")) {\r\n          case \"switch\": \r\n            toggleAlarm(state.currentid);\r\n            break;\r\n          case \"delete\": \r\n            deleteMessage(state.currentid); \r\n            break;\r\n          case \"edit\": \r\n            editMessage(state.currentid);\r\n            break;\r\n          case \"forward\": \r\n            forwardMessage(state.currentid);\r\n            break;\r\n        }\r\n      }\r\n    }\r\n  \r\n    function toggleAlarm(id) {\r\n      const listContact = document.querySelector(\".sidebarleft_body\"); \r\n      let chatContact = listContact.querySelectorAll(\".sidebarleft_contact_chat\");\r\n      chatContact.forEach((item) => {\r\n          if (item.getAttribute(\"data-id\") === id) {\r\n            let alarmTag = item.querySelector(\"#alarm\");\r\n              if (alarmTag.className === \"fa fa-bell-o\") {\r\n                  alarmTag.classList.remove(\"fa-bell-o\");\r\n                  alarmTag.classList.add(\"fa-bell-slash-o\");\r\n                  setFieldAlarm(id);\r\n              } else {\r\n                  alarmTag.classList.remove(\"fa-bell-slash-o\");\r\n                  alarmTag.classList.add(\"fa-bell-o\");\r\n                  setFieldAlarm(id);\r\n              }      \r\n          }\r\n      });\r\n    }\r\n  \r\n    function deleteMessage(id) {\r\n      state.currentchat.forEach(e => {\r\n        if ((e['id'] == id) && (e['chat_id'] == state.currentchatid)) {\r\n          e['message'] = setMessage(id, \"Данное сообщение удалено\");\r\n          let index = state.currentchat.findIndex(e => e.id == state.currentid);\r\n          state.currentchat[index][\"message\"] = \"Данное сообщение удалено\";\r\n        }\r\n      });\r\n          // Сообщить серверу и другому пользователю\r\n          let post = {\r\n            command: \"edit\", \r\n            to: getReceiverUserId(), \r\n            from: state.userID, \r\n            message: \"Данное сообщение удалено\",\r\n            messageID: id\r\n          };\r\n          ws.send(JSON.stringify(post));\r\n          modifyMessageInDB(id, state.currentchatid, \"Данное сообщение удалено\");\r\n    }\r\n  \r\n    function editMessage(id) { \r\n      state.currentchat.forEach(e => {\r\n        if ((e['id'] == id) && (e['chat_id'] == state.currentchatid)) {\r\n          overlayDiv();\r\n          windowEditFlag = true;\r\n          windowEditTag.classList.add('active');\r\n          windowEditTag.querySelector('.chatwindow_newMessageInput').value = e['message'];\r\n        }\r\n      });\r\n    }\r\n  \r\n    function addWindowEditListener() { \r\n      windowEditTag.querySelector('.chatmessage_send').addEventListener('click', e => {\r\n            closeOverlay();\r\n            let index = state.currentchat.findIndex(e => e.id == state.currentid);\r\n            state.currentchat[index][\"message\"] = windowEditTag.querySelector('.chatwindow_newMessageInput').value;\r\n            setMessage(state.currentid, windowEditTag.querySelector('.chatwindow_newMessageInput').value, '(ред) ');\r\n            e.stopPropagation();\r\n      });\r\n      windowEditTag.addEventListener('keydown', e => {\r\n          if (e.key === 'Enter') {\r\n            e.preventDefault();\r\n            closeOverlay();\r\n            let index = state.currentchat.findIndex(e => e.id == state.currentid);\r\n            state.currentchat[index][\"message\"] = windowEditTag.querySelector('.chatwindow_newMessageInput').value;\r\n            setMessage(state.currentid, windowEditTag.querySelector('.chatwindow_newMessageInput').value, '(ред) ');\r\n            e.stopPropagation();\r\n          }\r\n       });\r\n    }\r\n  \r\n    function setMessage(id, newmessage, status = '') {\r\n      const selector = \"[data-id=\" + '\"' + id + '\"]';\r\n      divPost.querySelector(selector).innerHTML = `\r\n          <div class=\"chatcontent_body chatcontent_body--my\" data-id=${id}>\r\n              <span class=\"chatcontent_mymessage_text\">${state.username}: ${status}${newmessage}</span>\r\n              <span class=\"chatcontent_mymessage_time\">${getTimePost()}</span>\r\n          </div>`;\r\n       // Отправить другой стороне и в базу\r\n      let post = {\r\n        command: \"edit\", \r\n        to: getReceiverUserId(), \r\n        from: state.userID, \r\n        message: status + newmessage,\r\n        messageID: id\r\n      };\r\n      ws.send(JSON.stringify(post));\r\n      modifyMessageInDB(id, state.currentchatid, status + newmessage);\r\n    }\r\n  \r\n    function getTimePost() {\r\n      const subbed = new Date();\r\n      const hour = subbed.getHours().toString().length < 2 ? '0' + subbed.getHours() : subbed.getHours();\r\n      const min = subbed.getMinutes().toString().length < 2 ? '0' + subbed.getMinutes() : subbed.getMinutes();\r\n      return `${hour}:${min}`;\r\n    }\r\n  \r\n    function addMyMessageInChat(message, chatID = state.currentchatid) { \r\n      const newIndex = getNewIndexCurrentChat(state.currentchat, chatID);\r\n      const newMessage = `\r\n              <div class=\"chatcontent_mymessage_wrapper chatcontent_mymessage\">\r\n                  <div class=\"chatcontent_body chatcontent_body--my\" data-id=${newIndex}>\r\n                      <span class=\"chatcontent_mymessage_text\">${state.username}: ${message}</span>\r\n                      <span class=\"chatcontent_mymessage_time\">${getTimePost()}</span>\r\n                  </div>\r\n              </div>\r\n      `;\r\n      chatContext.insertAdjacentHTML(\"beforeend\", newMessage);\r\n      state.currentchat[state.currentchat.length] = {\"id\": newIndex, \"chat_id\": Number(chatID), \"sender_id\": state.userID, \"message\": message, \"time_message\": getTimePost(), \"id1\": state.userID, \"id2\": getReceiverUserId()};\r\n      addMessageInDB(newIndex, Number(chatID), state.userID, message, getTimePost());\r\n    }\r\n\r\n    function getNewIndexCurrentChat(currentchat, chatId) { \r\n      const array = currentchat.filter(item => item['chat_id'] == chatId);\r\n      return ++array.length;\r\n    }\r\n  \r\n    function addEditorListener() {\r\n        listener1 = function(){\r\n          if (inputSend.value !== '') {\r\n            if ((state.groupStatusMyUser == 0) && (state.currentchatid == '10001')) {\r\n              errorValue();\r\n            } else {\r\n              let cleanMessage = inputSend.value; //DOMPurify.sanitize(inputSend.value); //, { USE_PROFILES: { html: true } });\r\n              //if (cleanMessage == '') { cleanMessage = 'Удалено защитой от XSS'; }\r\n              addMyMessageInChat(cleanMessage);\r\n              // Отправить другой стороне и в базу\r\n              let username = state.username;\r\n              if (state.currentchatid == '10001') {\r\n                let post = {\r\n                  command: \"groupchat\", \r\n                  message: username + \": \" + cleanMessage,\r\n                  channel: \"10001\"\r\n                };\r\n                ws.send(JSON.stringify(post));\r\n              } else {\r\n                let post = {\r\n                  command: \"message\", \r\n                  to: getReceiverUserId(), \r\n                  from: state.userID, \r\n                  message: username + \": \" + cleanMessage\r\n                };\r\n                ws.send(JSON.stringify(post));\r\n              }\r\n              // --------------------------------\r\n            }\r\n              inputSend.value = '';\r\n              inputSend.focus();\r\n          }\r\n      };\r\n\r\n      btnSend.addEventListener('click', listener1);\r\n  \r\n      listener2 = e => {\r\n        if ((inputSend.value !== '') && (e.key === 'Enter')) {\r\n          if ((state.groupStatusMyUser == 0) && (state.currentchatid == '10001')) {\r\n            errorValue();\r\n          } else {\r\n              e.preventDefault();\r\n              let cleanMessage = inputSend.value; //DOMPurify.sanitize(inputSend.value); //, { USE_PROFILES: { html: true } });\r\n              //if (cleanMessage == '') { cleanMessage = 'Удалено защитой от XSS'; }\r\n              addMyMessageInChat(cleanMessage);\r\n              // Отправить другой стороне и в базу\r\n              let username = state.username;\r\n              if (state.currentchatid == '10001') {\r\n                let post = {\r\n                  command: \"groupchat\", \r\n                  message: username + \": \" + cleanMessage,\r\n                  channel: \"10001\"\r\n                };\r\n                ws.send(JSON.stringify(post));\r\n              } else {\r\n                let post = {\r\n                  command: \"message\", \r\n                  to: getReceiverUserId(), \r\n                  from: state.userID, \r\n                  message: username + \": \" + cleanMessage\r\n                };\r\n                ws.send(JSON.stringify(post));\r\n              }\r\n              // --------------------------------\r\n            }            \r\n            inputSend.value = '';\r\n            inputSend.focus();\r\n          }\r\n        };\r\n        window.addEventListener('keydown', listener2);\r\n    }  \r\n  \r\n    function removeEditorListener() {\r\n      btnSend.removeEventListener('click', listener1, false);\r\n      window.addEventListener('keydown', listener2, false);\r\n    }\r\n  \r\n  \r\n    function overlayDiv() { \r\n      if ((!windowEditFlag) && (!windowTransferFlag)) {\r\n          shadowOverlay = document.createElement('div');\r\n          shadowOverlay.classList.add('overlay__shadow');\r\n          document.body.appendChild(shadowOverlay);\r\n          shadowOverlay.classList.add('overlay__shadow--show');\r\n          removeEditorListener();\r\n          shadowOverlay.addEventListener('click', e => {\r\n            if (e.target.classList.contains('overlay__shadow')) {\r\n                closeOverlay();\r\n            }\r\n          });\r\n          window.addEventListener('keydown', e => {\r\n            if ((e.key === 'Escape') & ((windowEditFlag) || (windowTransferFlag))) {\r\n                closeOverlay();\r\n            }\r\n          });\r\n      } else {\r\n          shadowOverlay.classList.remove('overlay__shadow--show');\r\n          shadowOverlay.classList.remove('overlay__shadow');\r\n          document.body.removeChild(shadowOverlay);\r\n          addEditorListener();\r\n      }\r\n    }\r\n    \r\n    function closeOverlay() {\r\n      if ((windowEditFlag) || (windowTransferFlag)) {\r\n          shadowOverlay.classList.remove('overlay__shadow--show');\r\n          shadowOverlay.classList.remove('overlay__shadow');\r\n          document.body.removeChild(shadowOverlay);\r\n          windowEditTag.classList.remove('active');\r\n          windowListChatTag.classList.remove('active');\r\n          windowEditFlag = false;\r\n          windowTransferFlag = false;\r\n          addEditorListener();\r\n      }\r\n    }\r\n  \r\n    function forwardMessage(messageid) {\r\n        overlayDiv();\r\n        state.currentid = messageid;\r\n        windowTransferFlag = true;\r\n        windowListChatTag.classList.add('active');\r\n        renderforwardWindow();\r\n    }\r\n  \r\n    function renderforwardWindow(array = state.arr) {\r\n          let chatList = [];\r\n          chatList = array.filter(e => {\r\n                return (state.groupStatusMyUser != 0) ? e['chat_id'] < 10002 : e['chat_id'] < 10001;\r\n            });\r\n          listForward.innerHTML = '';\r\n          chatList.forEach((user) => {\r\n            if (user['chat_id'] != state.currentchatid) {\r\n                  listForward.innerHTML += `\r\n                        <div class=\"sidebarleft_contact_chat\" data-id=\"${user['chat_id']}\">\r\n                            <div class=\"sidebarleft_avatar\">\r\n                                <span class=\"avatar\">\r\n                                    <img class=\"avatar-photo\" src=\"${state.urlImg}${user['avatar']}\">\r\n                                </span>\r\n                                </div>\r\n                                <div class=\"sidebarleft_title\">\r\n                                <div class=\"sidebarleft_owner\">\r\n                                    <span>${user['username']} </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                  `;\r\n            }\r\n        });\r\n    }\r\n  \r\n    function addForwardtListener() {\r\n      listForward.addEventListener(\"click\", function(e) {\r\n          e.stopPropagation();\r\n          let forwardChatId  =  getIdOnClick(e); \r\n          let message = '';\t\r\n          state.currentchat.forEach(e => {\r\n            if(e['id'] == state.currentid) {\r\n               message = \"Forward->\" + e['message'];\r\n            }\r\n          });\r\n          const newIndex = getNewIndexCurrentChat(state.currentchat, forwardChatId);\r\n          state.currentchat[state.currentchat.length] = {\"id\": newIndex, \"chat_id\": Number(forwardChatId), \"sender_id\": state.userID, \"message\": message, \"time_message\": getTimePost(), \"id1\": state.userID, \"id2\": getReceiverUserId(Number(forwardChatId))};\r\n          addMessageInDB(newIndex, Number(forwardChatId), state.userID, message, getTimePost());\t\r\n          // Отправить другой стороне и в базу\r\n          if (getReceiverUserId(Number(forwardChatId)) < 10000) {\r\n             let post = {\r\n                  command: \"message\", \r\n                  to: getReceiverUserId(Number(forwardChatId)),\r\n                  from: state.userID, \r\n                  message: message\r\n                 };\r\n                 ws.send(JSON.stringify(post));\r\n              } else {\r\n                  let post = {\r\n                    command: \"groupchat\",\r\n                    message: message,\r\n                    channel: \"10001\"\r\n                  };\r\n                  ws.send(JSON.stringify(post))\r\n              }\r\n              // ------------------------------\r\n               closeOverlay();    \r\n        });\r\n      }\r\n  \r\n    function filterForwardList() {\r\n      search.addEventListener(\"input\", e => {\r\n        renderforwardWindow(filterUserName(e.target.value, state.arr));\r\n      });\r\n    }\r\n  \r\n    function filterUserName(value, array) {\r\n      return array.filter(it => it['username'].toLowerCase().indexOf(value.toLowerCase()) !== -1);\r\n    }\r\n\r\n    function addReceiverMessageInChat(message, receiverUserId) {\r\n      const newIndex = getNewIndexCurrentChat(state.currentchat, getReceiverChatIdfromUserId(receiverUserId));\r\n      if (getReceiverChatIdfromUserId(receiverUserId) == state.currentchatid) {\r\n          const newMessage = `\r\n                            <div class=\"chatcontent_mymessage_wrapper chatcontent_yourmessage\" data-id=${newIndex}>\r\n                                <div class=\"chatcontent_body\">\r\n                                    <span class=\"chatcontent_yourmessage_text\">${message}</span>\r\n                                    <span class=\"chatcontent_yourmessage_time\">${getTimePost()}</span>\r\n                                </div>\r\n                            </div>\r\n                        `;\r\n          chatContext.insertAdjacentHTML(\"beforeend\", newMessage);\r\n      }\r\n      alarmCheck(getReceiverChatIdfromUserId(receiverUserId), receiverUserId);\r\n      state.currentchat[state.currentchat.length] = {\r\n        \"id\": newIndex,\r\n        \"chat_id\": getReceiverChatIdfromUserId(receiverUserId),\r\n        \"sender_id\": receiverUserId,\r\n        \"message\": message,\r\n        \"time_message\": getTimePost(),\r\n        \"id1\": receiverUserId,\r\n        \"id2\": state.userID\r\n      };\r\n    }\r\n\r\n    function addReceiverMessageInGroupChat(message) {\r\n      const newIndex = getNewIndexCurrentChat(state.currentchat, 10001);\r\n      if ((state.currentchatid == 10001) && (state.groupStatusMyUser == 1))  {\r\n          const newMessage = `\r\n                            <div class=\"chatcontent_mymessage_wrapper chatcontent_yourmessage\" data-id=${newIndex}>\r\n                                <div class=\"chatcontent_body\">\r\n                                    <span class=\"chatcontent_yourmessage_text\">${message}</span>\r\n                                    <span class=\"chatcontent_yourmessage_time\">${getTimePost()}</span>\r\n                                </div>\r\n                            </div>\r\n                        `;\r\n          chatContext.insertAdjacentHTML(\"beforeend\", newMessage);\r\n      }\r\n      if (state.groupStatusMyUser == 1) {\r\n        alarmCheck(10001, 10001);\r\n      }\r\n      state.currentchat[state.currentchat.length] = {\r\n        \"id\": newIndex,\r\n        \"chat_id\": 10001,\r\n        \"sender_id\": 10001,\r\n        \"message\": message,\r\n        \"time_message\": getTimePost(),\r\n        \"id1\": 10001,\r\n        \"id2\": 10001\r\n      };\r\n    }\r\n\r\n    function modifyReceiverMessageInChat(id, receiverUserId, message) {\r\n      if (getReceiverChatIdfromUserId(receiverUserId) == state.currentchatid) {\r\n        const selector = \"[data-id=\" + '\"' + id + '\"]';\r\n        divPost.querySelector(selector).innerHTML = `\r\n              <div class=\"chatcontent_mymessage_wrapper chatcontent_yourmessage\" data-id=${id}>\r\n                <div class=\"chatcontent_body\">\r\n                  <span class=\"chatcontent_yourmessage_text\">${message}</span>\r\n                  <span class=\"chatcontent_yourmessage_time\">${getTimePost()}</span>\r\n                </div>\r\n              </div>\r\n            `;\r\n      }\r\n      let index = state.currentchat.findIndex(e => e.id == id);\r\n      alarmCheck(getReceiverChatIdfromUserId(receiverUserId), receiverUserId);\r\n      state.currentchat[index] = {\r\n        \"id\": id,\r\n        \"chat_id\": getReceiverChatIdfromUserId(receiverUserId),\r\n        \"sender_id\": receiverUserId,\r\n        \"message\": message,\r\n        \"time_message\": getTimePost(),\r\n        \"id1\": receiverUserId,\r\n        \"id2\": state.userID\r\n      };\r\n    }\r\n\r\n    function getReceiverChatIdfromUserId(receiverUserId) { \r\n      const array = state.arr.filter(item => {\r\n        return (((item['id1'] == receiverUserId) && (item['id2'] == state.userID)) || ((item['id1'] == state.userID) && (item['id2'] == receiverUserId)));\r\n      });\r\n        return array[0]['chat_id'];\r\n    }\r\n\r\n    function getReceiverChatIdfromMessageId(messageId) { \r\n      const array = state.currentchat.filter(item => item[\"id\"] == messageId);\r\n        return array[0]['chat_id'];\r\n    }\r\n\r\n    function getReceiverUserId(chatId = state.currentchatid) { \r\n      const array = state.arr.filter(item => item['chat_id'] == chatId);\r\n         if (array[0]['id1'] == state.userID) {\r\n            return array[0]['id2'];\r\n          } else {\r\n            return array[0]['id1'];\r\n          }\r\n    }\r\n\r\n    function alarmCheck(chatId, userId) {\r\n      let index = state.arr.findIndex(e => e.chat_id == chatId);\r\n         if ((state.arr[index]['id1'] == userId))  {\r\n            if (state.arr[index]['alarm1'] == 1) {\r\n              alarmPlay();\r\n            }\r\n          } else {\r\n            if (state.arr[index]['alarm2'] == 1) {\r\n              alarmPlay();\r\n            }\r\n          }\r\n    }\r\n\r\n    function alarmPlay() {\r\n      var audio = new Audio();\r\n      audio.preload = 'auto';\r\n      audio.src = '../public/wav/alarm.mp3';\r\n      audio.play();\r\n    }\r\n\r\n    function setFieldAlarm(chatId) { \r\n      let index = state.arr.findIndex(e => e.chat_id == chatId);\r\n         if ((state.arr[index]['id1'] == state.userID)) {\r\n            state.arr[index]['alarm2'] ? state.arr[index]['alarm2'] = 0 : state.arr[index]['alarm2'] = 1;\r\n          } else {\r\n            state.arr[index]['alarm1'] ? state.arr[index]['alarm1'] = 0 : state.arr[index]['alarm1'] = 1;\r\n          }\r\n          updateAlarm(chatId, state.arr[index]['alarm1'], state.arr[index]['alarm2']);\r\n    }\r\n\r\n    function stateGroupChatInDB(id, status) {\r\n      axios({\r\n        method: 'post',\r\n        url: '/post/postGroupStatus',\r\n        headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\"\r\n      },\r\n        data:  {\"id\": id, \"status\": status}\r\n        })\r\n        .then(() => {\r\n            console.log('Статусы групп чата успешно загружены!');\r\n        })\r\n        .catch(function(error) {\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    function addMessageInDB(id, chatid, send_id, message, time) {\r\n      axios({\r\n        method: 'post',\r\n        url: '/post/putMessage', \r\n        headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\"\r\n      },\r\n        data:  {\"id\": id, \"chatid\": chatid, \"send_id\": send_id, \"message\": message, \"time\": time}\r\n        })\r\n        .then(() => {\r\n            console.log('Чат-сообщение ' + message + ' успешно загружено!');\r\n        })\r\n        .catch(function(error) {\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    function modifyMessageInDB(id, chatid, message, time) {\r\n      axios({\r\n        method: 'post',\r\n        url: '/post/updateMessage',\r\n        headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\"\r\n      },\r\n        data:  {\"id\": id, \"chatid\": chatid, \"message\": message, \"time\": time}\r\n        })\r\n        .then(() => {\r\n          console.log('Чат-сообщение ' + message + ' успешно загружено!');\r\n        })\r\n        .catch(function(error) {\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    function updateAlarm(chatid, alarm1, alarm2) {\r\n      axios({\r\n        method: 'post',\r\n        url: '/post/updateAlarm',\r\n        headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\"\r\n      },\r\n        data:  {\"chatid\": chatid, \"alarm1\": alarm1, \"alarm2\": alarm2}\r\n        })\r\n        .then(() => {\r\n          console.log('Аларм успешно обновлен!');\r\n        })\r\n        .catch(function(error) {\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    function synchroGroupStatus(array) {\r\n      array.forEach((item, index) => {\r\n        state.listgroup[index]['group_status'] = item['group_status'];\r\n        if ((state.listgroup[index]['id'] == state.userID) && (state.groupStatusMyUser == 0) && (state.listgroup[index]['group_status'] == 1) ) {\r\n          state.groupStatusMyUser = 1;\r\n          reRenderGroupChat();\r\n        }\r\n      });\r\n      renderLeftPanel();\r\n    }\r\n\r\n    function reRenderGroupChat() {\r\n      \r\n    }\r\n\r\n    function errorValue(selector='.chatwindow_area') {\r\n      const errorDiv = document.querySelector(selector);\r\n      errorDiv.style.border = '1px solid red';\r\n      setTimeout(() => {\r\n          // Удаляем слой через 1000 мс\r\n          errorDiv.style.border = 'none';\r\n      }, 1000);  \r\n    }\r\n\r\n    // Обработка входящих сообщений\r\n    ws.onmessage = (e)=> {\r\n          //console.log(e.data);\r\n          let info = JSON.parse(e.data);\r\n          switch (info.command) {\r\n            case 'message':\r\n                console.log(info);\r\n                addReceiverMessageInChat(info.message, info.from);\r\n                break;\r\n            case 'groupchat':\r\n                console.log(info);\r\n                addReceiverMessageInGroupChat(info.message);\r\n                break;\r\n            case 'updatelist':\r\n                console.log(info);\r\n                synchroGroupStatus(info.message);\r\n                break;\r\n            case 'edit':\r\n                console.log(info);\r\n                modifyReceiverMessageInChat(Number(info.messageID), info.from, info.message);\r\n                break;\r\n            default:\r\n              console.log('Default: ', info);\r\n          }\r\n    };\r\n\r\n};\r\n\r\nexport default actionListeners;","async function getState(state) {\n\n    const dop = '.php';\n\n   // function getUser() { \n        await axios.get('/get/getUserData' + dop)\n        .then(res => { \n            setData(res.data[0].id, 'userID');\n            setData(res.data[0].username, 'username');\n            setData(res.data[0].avatar, 'avatar');\n        })\n        .catch(function(error) {\n            console.log(error);\n        });\n    //};\n\n   // function getListChats() {\n        await axios.get('/get/getChatList' + dop)\n        .then(res => {\n            let Arr = Object.entries(res.data);\n            let i = 1\n            Arr.forEach((item, i) => {\n                setList(item[1], [i+1]);\n            });\n            console.log('state.arr', state.arr);\n        });\n   // }\n\n    //  function getChatMessages()  {\n        await axios.get('/get/getChatMessages' + dop)\n        .then(res => {\n            let Arr = Object.entries(res.data);\n            Arr.forEach((item, i) => {\n                setMessage(item[1], [i]);\n            });\n            console.log('state.currentchat', state.currentchat);\n        });\n   // }\n\n    //function getListGroup() {\n        await axios.get('/get/getGroupStatus' + dop)\n        .then(res => {\n            let Arr = Object.entries(res.data); \n            Arr.forEach((item, i) => {\n                if (item[1]['id'] == state.userID) {\n                    state.groupStatusMyUser = item[1]['group_status'];\n                    console.log('state.groupStatusMyUser ', state.groupStatusMyUser);\n                  }\n                setListGroup(item[1], [i]);\n            });\n            console.log('state.listgroup', state.listgroup);\n        });\n    //}\n\n    function setData(arg, field) {\n        state[field] = arg;\n        console.log(field, state[field]);\n    }\n\n    function setMessage(arg, field) {\n        state.currentchat[field] = arg;\n    }\n\n    function setList(arg, field) {\n        state.arr[field] = arg;\n    }\n\n    function setListGroup(arg, field) {\n        state.listgroup[field] = arg;\n    }\n\n    //getUser();\n    //getListGroup();\n    //getListChats(); \n    //getChatMessages();\n\n};\n\nexport default getState;","const hamburger = () => {\n\n        let menuBtnLeft = document.querySelector('.header_left');\n        let menuLeft = document.querySelector('.menuLeft');\n        let menuBtnRight = document.querySelector('.header_right');\n        let menuRight = document.querySelector('.menuRight');\n        let openMenuLeft = false;\n        let openMenuRight = false;\n        let shadowOverlay;\n\n        addListeners();\n\n        function addListeners() {\n            menuBtnLeft.addEventListener('click', function(){\n                if (!openMenuRight) {\n                    overlayMenu();\n                    toogleLeftMenu();  \n                }\n            });\n    \n            menuBtnRight.addEventListener('click', function(){\n                if (!openMenuLeft) {\n                    overlayMenu();\n                    toogleRightMenu();\n                }\n            });\n    \n            window.addEventListener('click', e => {\n                if (e.target.classList.contains('overlay__shadow')) {\n                    closeOverlay();\n                }\n            });\n    \n            window.addEventListener('keydown', e => {\n                if ((e.key === 'Escape') & ((openMenuLeft) || (openMenuRight))) {\n                    closeOverlay();\n                }\n            });\n    \n            document.querySelector('.chatcontent').scrollTo(0, document.body.scrollHeight);\n        }\n\n        function closeOverlay() {\n                if (openMenuLeft) {\n                    overlayMenu();\n                    toogleLeftMenu();  \n                }\n                if (openMenuRight) {\n                    overlayMenu();\n                    toogleRightMenu();\n                }\n        }\n\n        function toogleLeftMenu() {\n            (!openMenuLeft) ? openMenuLeft = true : openMenuLeft = false;\n            menuLeft.classList.toggle('active');\n            menuBtnLeft.classList.toggle('active');\n        } \n\n        function toogleRightMenu() {\n            (!openMenuRight) ? openMenuRight = true : openMenuRight = false;\n            menuRight.classList.toggle('active');\n            menuBtnRight.classList.toggle('active');\n        } \n\n        function overlayMenu() { \n            if ((!openMenuRight) & (!openMenuLeft)) {\n                shadowOverlay = document.createElement('div');\n                shadowOverlay.classList.add('overlay__shadow');\n                document.body.appendChild(shadowOverlay);\n                shadowOverlay.classList.add('overlay__shadow--show');\n            } else {\n                shadowOverlay.classList.remove('overlay__shadow--show');\n                shadowOverlay.classList.remove('overlay__shadow');\n                document.body.removeChild(shadowOverlay);\n            }\n        }\n};\n\nexport default hamburger;","const renderChatComponets = (state) => {\n\n    const layerChatList = document.querySelector('.sidebarleft_body'); \n    const chatContext = document.querySelector('.chatcontent'); \n\n    init();\n    \n    function init() {\n        filterChatList();\n        uploadMyAvatar();\n        uploadMyNick();\n        renderChatList(state.arr);\n        clickChatList();\n        reloadHeaderClickChat(state.arr[0]['chat_id']);\n    }\n\n    function uploadMyAvatar() {\n        const blockMyAvatar = document.querySelector(\".myavatar\");\n        blockMyAvatar.innerHTML =\n        `\n            <img class=\"myavatar-photo\" src=\"${state.urlImg}${state.avatar}\">\n            <div class=\"camera\"><a href=\"/upload\" title=\"Сменить аватар\">\n                <i class=\"fa fa-camera-retro icon-camera\"></i>\n            </a></div>\n        `;\n    }\n\n    function uploadMyNick() {\n        const blockMyNick = document.querySelector(\".mynick\");\n        blockMyNick.innerHTML =\n        `\n            <a href=\"/update\" title=\"Редактировать профиль\">${state.username}</i></a>\n        `;\n    }\n\n    function reloadHeaderClickChat(id) {\n        state.currentchatid = id;\n        let user = state.arr.filter(e => {return e['chat_id'] == id });\n        const header = document.querySelector(\".header_wrapper\"); \n        const control = document.querySelector(\".header_right\"); \n       \n        if (state.currentchatid < 10000) {\n            header.innerHTML =\n            `\n            <div class=\"header_avatar\">\n                    <img class=\"avatar-photo\" src=\"${state.urlImg}${user[0]['avatar']}\">\n            </div>\n            <div class=\"header_title\">\n                <div class=\"header_owner\">\n                    <span>${user[0]['username']}</span>\n                </div>\n                <div class=\"header_info\">\n                    <span>Был(а) недавно</span>\n                </div>\n            </div>\n            `;\n            control.style = \"opacity: 0\";\n        } else {\n            header.innerHTML =\n            `<div class=\"header_avatar\">\n                <img class=\"avatar-photo\" src=\"${state.urlImg}${user[0]['avatar']}\">\n             </div>\n             <div class=\"header_title\">\n                <div class=\"header_owner\">\n                    <span>${user[0]['username']}</span>\n                </div>\n                <div class=\"header_info\">\n\n                </div>\n             </div>\n            `;\n            calcGroupSize();\n            control.style = \"opacity: 1\";\n        }\n        if ((state.currentchatid < 10001) || ((state.currentchatid = 10001) && (state.groupStatusMyUser == 1))) {\n            uploadChat(id);\n        }\n       // uploadLeftPanel();\n    }\n\n    function calcGroupSize() {\n        let headerCount = document.querySelector(\".header_info\");\n        let chatList = state.listgroup.filter(e => e[\"group_status\"] == 1);\n        let text = ''; //state.username + '&#013;';\n        chatList.forEach(e => {text += e['username'] + '&#013;'});\n        headerCount.innerHTML = '';\n        headerCount.innerHTML =`<span title=\"${text}\">Участники: ${chatList.length}</span>`;\n    }\n\n    function uploadChat(chatId) {\n        removeChat(); \n        const array = state.currentchat.filter(item => item['chat_id'] == chatId);\n        array.forEach((arr) => {\n                if (arr['sender_id'] == state.userID) { \n                    chatContext.innerHTML += `\n                        <div class=\"chatcontent_mymessage_wrapper chatcontent_mymessage\" data-id=${arr[\"id\"]}>\n                            <div class=\"chatcontent_body chatcontent_body--my\">\n                                <span class=\"chatcontent_mymessage_text\">${state.username}: ${arr['message']}</span>\n                                <span class=\"chatcontent_mymessage_time\">${arr['time_message']}</span>\n                            </div>\n                        </div>\n                    `;\n                } else {\n                    chatContext.innerHTML += `\n                        <div class=\"chatcontent_mymessage_wrapper chatcontent_yourmessage\" data-id=${arr[\"id\"]}>\n                            <div class=\"chatcontent_body\">\n                                <span class=\"chatcontent_yourmessage_text\">${arr['message']}</span>\n                                <span class=\"chatcontent_yourmessage_time\">${arr['time_message']}</span>\n                            </div>\n                        </div>\n                    `;\n                }\n        });\n    }\n\n    function removeChat() {\n        chatContext.innerHTML = ``;\n   }\n\n    function clickChatList() {\n        layerChatList.addEventListener(\"click\", function(e) {\n            let node = e.target;\n            let id;\n            do {\n                hasAttr(node, \"data-id\") ? id = node.getAttribute(\"data-id\") : node = node.parentNode;\n            } while (!id);\n            if(id) {\n                reloadHeaderClickChat(id);\n            }\n        });\n    }\n\n    function hasAttr(element, attr) {\n        if(typeof element === 'object' && element !== null && 'getAttribute' in element  && element.hasAttribute(attr)) {\n          return true;\n        } else {\n          return false;\n        }\n    }\n\n    function setAlarm(array) { \n        if ((array['id1'] == state.userID) && (state.userID != 10001)) {\n             return array['alarm2'] == 1 ?  \"fa-bell-o\" : \"fa-bell-slash-o\";\n        } else {\n             return array['alarm1'] == 1 ?  \"fa-bell-o\" : \"fa-bell-slash-o\";\n        }\n    }\n\n    function renderChatList(array) { \n       removeChatList();\n       // sortChatList(); Сортировка чатов по времени сообщений\n        array.forEach((user) => {  \n            if ((user['id1'] == state.userID) || (user['id2'] == state.userID) || (user['id1'] == 10001)) { \n                    let alarm = setAlarm(user);\n                    let email = user['email_status'] == 0 ? 'Скрыт' : user['email'];\n                    layerChatList.innerHTML += `\n                    <div class=\"sidebarleft_contact_chat\" data-id=\"${user['chat_id']}\">\n                        <div class=\"sidebarleft_avatar\">\n                            <span class=\"avatar\">\n                                <img class=\"avatar-photo\" src=\"${state.urlImg}${user['avatar']}\">\n                                <span class=\"status\" data-status=\"on\"></span> \n                            </span>\n                            </div>\n                            <div class=\"sidebarleft_title\">\n                            <div class=\"sidebarleft_owner\">\n                                <span>${user['username']} </span><i class=\"fa ${alarm}\" id=\"alarm\"></i><span class=\"blink\"></span> \n                            </div>\n                            <div class=\"sidebarleft_lastpost\">\n                                <span>${email}</span>\n                            </div>\n                        </div>\n                    </div>\n                    `;\n            }\n        });\n\n    }\n\n    function removeChatList() {\n         layerChatList.innerHTML = ``;\n    }\n\n    function sortChatList() {\n        state.arr.sort((a, b) => b.lasttime > a.lasttime ? 1 : -1);\n    }\n\n    function filterUserName(value, array) {\n        return array.filter(it => it['username'].toLowerCase().indexOf(value.toLowerCase()) !== -1);\n    }\n    \n    function filterChatList() {\n            let search = document.querySelector(\"#search\");\n            search.addEventListener(\"input\", e => {\n                renderChatList(filterUserName(e.target.value, state.arr));\n            });\n    }\n    \n};\n\nexport default renderChatComponets;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import getState from \"./modules/getState\";\r\nimport hamburger from \"./modules/hamburger\";\r\nimport actionListeners from \"./modules/actionListeners\";\r\nimport renderChatComponets from \"./modules/renderChatComponets\";\r\n//import DOMPurify from 'isomorphic-dompurify';\r\n\r\nlet state = {\r\n    userID: \"\", // current user ID\r\n    username: \"\", // current username \r\n    avatar: \"\",\r\n    groupStatusMyUser: 0,\r\n    arr: [], // array chat list\r\n    currentchat: [], // array messeges current chat\r\n    listgroup: [],\r\n    currentchatid: 0, // current chat id\r\n    currentid: 0, // current id message\r\n    urlImg: \"../public/uploads/avatar/\"  //\"../public/uploads/avatar/\"  \"../assets/img/avatar/\"\r\n};\r\nstate.arr[0] = {\"id\": 1, \"chat_id\" :10001, \"id1\": 10001, \"alarm1\": 0, \"id2\": 10001, \"alarm2\": 0, \"lasttime\":\"\", \"email\": \"нет\", \"username\":\"Group Chat\", \"avatar\": \"avatar-m.png\", \"email_status\": 1, \"group_status\": 0};\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n\r\n    getState(state).then(function () {\r\n      return hamburger();\r\n    }).then(function () {\r\n      return renderChatComponets(state);\r\n    }).then(function () {\r\n      return actionListeners(state, ws);\r\n    }).then(function () {\r\n      //console.log('Upload Init Data Done!');\r\n      const ws = new ReconnectingWebSocket(\"ws://localhost:8090\");\r\n      ws.debug = true;\r\n      ws.timeoutInterval = 3000;\r\n    });\r\n\r\n    ws.onopen = () => {\r\n      // Открываем канал с сервером чата\r\n      console.log(\"Websocket connection established! \");\r\n      registerToWS(state.userID);\r\n    };\r\n\r\n    ws.onclose = () => {\r\n      console.log(\"Websocket connection closed\");\r\n    };\r\n\r\n    ws.onerror = error => {\r\n      console.log(error);\r\n    };\r\n\r\n    function registerToWS(id) {\r\n      if (id != \"\") {\r\n          ws.send(JSON.stringify({\r\n            command: \"register\",\r\n            userId: id\r\n          })); // Регистрируем пользователя в чате\r\n          ws.send(JSON.stringify({\r\n            command: \"subscribe\",\r\n            channel: \"10001\"\r\n          }));\r\n          console.log('Reg ' + id + ' ok!');\r\n          return true;\r\n      } else {\r\n          return false;\r\n      }\r\n    }\r\n\r\n});\r\n\r\n"],"names":["actionListeners","state","ws","contextMenuLink","document","querySelectorAll","contextMenuActive","contextMenuActive2","divUser","querySelector","divPost","menu","menuState","menuWidth","menuHeight","windowWidth","windowHeight","clickCoords","clickCoordsX","clickCoordsY","btnSend","inputSend","windowEditFlag","windowTransferFlag","shadowOverlay","windowEditTag","windowListChatTag","listener1","listener2","listForward","search","chatContext","configWindow","leftPanel","rightPanel","init","focus","LeftListener","RightListener","filterChatGroupList","renderLeftPanel","addForwardtListener","addEditorListener","addWindowEditListener","postListener","userListener","clickListener","contextMenuOffLeftClick","contextMenuOffRightClick","keyEscListener","resizeListener","filterForwardList","addEventListener","e","filterUserName","target","value","listgroup","calcGroupSize","headerCount","chatList","filter","text","forEach","innerHTML","length","array","arguments","undefined","removeLeftPanel","rightarray","leftarray","currentchatid","user","urlImg","renderRightPanel","setState","id","status","userID","groupStatusMyUser","stateGroupChatInDB","post","command","message","channel","send","JSON","stringify","removeRightPanel","ItemIdContext","getIdOnClick","node","hasAttr","getAttribute","parentNode","element","attr","hasAttribute","window","onkeyup","keyCode","toggleMenuOff","classList","contains","currentid","preventDefault","toggleMenuOn2","positionMenu","stopPropagation","toggleMenuOn","add","remove","getPosition","posx","posy","event","pageX","pageY","clientX","clientY","body","scrollLeft","documentElement","scrollTop","x","y","offsetWidth","offsetHeight","innerWidth","innerHeight","style","left","top","onresize","actionByRightClick","link","errorValue","toggleAlarm","deleteMessage","editMessage","forwardMessage","listContact","chatContact","item","alarmTag","className","setFieldAlarm","currentchat","setMessage","index","findIndex","to","getReceiverUserId","from","messageID","modifyMessageInDB","overlayDiv","closeOverlay","key","newmessage","selector","username","getTimePost","subbed","Date","hour","getHours","toString","min","getMinutes","addMyMessageInChat","chatID","newIndex","getNewIndexCurrentChat","newMessage","insertAdjacentHTML","Number","addMessageInDB","chatId","cleanMessage","removeEditorListener","removeEventListener","createElement","appendChild","removeChild","messageid","renderforwardWindow","arr","forwardChatId","it","toLowerCase","indexOf","addReceiverMessageInChat","receiverUserId","getReceiverChatIdfromUserId","alarmCheck","addReceiverMessageInGroupChat","modifyReceiverMessageInChat","getReceiverChatIdfromMessageId","messageId","userId","chat_id","alarmPlay","audio","Audio","preload","src","play","updateAlarm","axios","method","url","headers","data","then","console","log","catch","error","chatid","send_id","time","alarm1","alarm2","synchroGroupStatus","reRenderGroupChat","errorDiv","border","setTimeout","onmessage","info","parse","getState","dop","get","res","setData","avatar","Arr","Object","entries","i","setList","setListGroup","arg","field","hamburger","menuBtnLeft","menuLeft","menuBtnRight","menuRight","openMenuLeft","openMenuRight","addListeners","overlayMenu","toogleLeftMenu","toogleRightMenu","scrollTo","scrollHeight","toggle","renderChatComponets","layerChatList","filterChatList","uploadMyAvatar","uploadMyNick","renderChatList","clickChatList","reloadHeaderClickChat","blockMyAvatar","blockMyNick","header","control","uploadChat","removeChat","setAlarm","removeChatList","alarm","email","sortChatList","sort","a","b","lasttime","ReconnectingWebSocket","debug","timeoutInterval","onopen","registerToWS","onclose","onerror"],"sourceRoot":""}