{"version":3,"file":"script.js","mappings":"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","sources":["webpack://chat/./src/js/modules/actionListeners.js","webpack://chat/./src/js/modules/getState.js","webpack://chat/./src/js/modules/hamburger.js","webpack://chat/./src/js/modules/renderChatComponets.js","webpack://chat/webpack/bootstrap","webpack://chat/webpack/runtime/define property getters","webpack://chat/webpack/runtime/hasOwnProperty shorthand","webpack://chat/webpack/runtime/make namespace object","webpack://chat/./src/js/main.js"],"sourcesContent":["const actionListeners = (state, ws) => {\r\n\r\n    // Объявление переменных\r\n    let contextMenuLink = document.querySelectorAll(\".context-menu__link\"); \r\n    let contextMenuActive = \"context-menu--active\";\r\n    let contextMenuActive2 = \"context-menu2--active\";\r\n\r\n    let divUser = document.querySelector(\".sidebarleft_body\");\r\n    let divPost = document.querySelector(\".chatcontent\");\r\n \r\n    let menu;\r\n    let menuState = 0;\r\n    let menuWidth;\r\n    let menuHeight;\r\n    let windowWidth;\r\n    let windowHeight;\r\n    let clickCoords;\r\n    let clickCoordsX;\r\n    let clickCoordsY;\r\n\r\n    let btnSend = document.querySelector('.chatmessage_send');\r\n    let inputSend = document.querySelector('.chatwindow_newMessageInput');\r\n\r\n    let windowEditFlag = false, windowTransferFlag = false;\r\n    let shadowOverlay;\r\n    let windowEditTag = document.querySelector('.layerEdit');\r\n    let windowListChatTag = document.querySelector('.layerListChat');\r\n\r\n    let listener1, listener2;\r\n    let listForward = windowListChatTag.querySelector(\".chatlistForward\");\r\n    let search = document.querySelector(\"#search3\");\r\n\r\n   \r\n    const chatContext = document.querySelector(\".chatcontent\"); \r\n    let configWindow = document.querySelector(\".configChat\");\r\n    let leftPanel = configWindow.querySelector(\".chatlist\");\r\n    let rightPanel = configWindow.querySelector(\".chatcontacts\");\r\n\r\n    \r\n    init();\r\n\r\n    function init() {\r\n        inputSend.focus();\r\n        LeftListener();\r\n        RightListener();\r\n        filterChatGroupList();\r\n        renderLeftPanel();\r\n        addForwardtListener();\r\n        addEditorListener();\r\n        addWindowEditListener();\r\n        postListener();\r\n        userListener();\r\n        clickListener();\r\n        contextMenuOffLeftClick();\r\n        contextMenuOffRightClick();\r\n        keyEscListener();\r\n        resizeListener();\r\n        filterForwardList();\r\n      }\r\n\r\n   function filterChatGroupList() {\r\n        let search = document.querySelector(\"#search2\");\r\n        search.addEventListener(\"input\", e => {\r\n            renderLeftPanel(filterUserName(e.target.value, state.arr));\r\n        });\r\n    }\r\n\r\n    function calcGroupSize() {\r\n        let headerCount = document.querySelector(\".header_info\");\r\n        let chatList = state.arr.filter(e => {\r\n            return ((e['chat_id'] < 10000) && (e[\"group_status\"] == 1));\r\n        });\r\n        let text = state.username + '&#013;';\r\n        chatList.forEach(e => {text += e['username'] + '&#013;'});\r\n        headerCount.innerHTML = '';\r\n        headerCount.innerHTML =`<span title=\"${text}\">Участники: ${chatList.length + 1}</span>`;\r\n    }\r\n\r\n    function renderLeftPanel(array = state.arr) {\r\n          removeLeftPanel();\r\n          let rightarray = [];\r\n          let leftarray = [];             \r\n          leftarray = array.filter(e => {\r\n                return ((e['chat_id'] < 10000) && (e[\"group_status\"] == 0));\r\n          });\r\n          rightarray = state.arr.filter(e => {\r\n               return ((e['chat_id'] < 10000) && (e[\"group_status\"] == 1));\r\n          });\r\n          if ( state.currentchatid > 10000) {\r\n            calcGroupSize();\r\n          }\r\n\r\n          leftarray.forEach((user) => {\r\n            leftPanel.innerHTML += `\r\n                        <div class=\"sidebarleft_contact_chat\" data-id=\"${user['chat_id']}\">\r\n                            <div class=\"sidebarleft_avatar\">\r\n                                <span class=\"avatar\">\r\n                                    <img class=\"avatar-photo\" src=\"${state.urlImg}${user['avatar']}\">\r\n                                </span>\r\n                                </div>\r\n                                <div class=\"sidebarleft_title\">\r\n                                <div class=\"sidebarleft_owner\">\r\n                                    <span>${user['username']} </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        `;\r\n        });\r\n        renderRightPanel(rightarray);   \r\n    }\r\n\r\n    function setState(id, status) {\r\n            state.arr.forEach(e => {\r\n                if(e[\"chat_id\"] == id) {\r\n                    e[\"group_status\"] = status;\r\n                     // Отправить изменение на сервер\r\n                    if (status) {\r\n                      let post = {\r\n                        action: \"subscribe\",\r\n                        to: id,\r\n                        channel: \"10001\"\r\n                      };\r\n                      ws.send(JSON.stringify(post));\r\n                    } else {\r\n                      let post = {\r\n                        action: \"unsubscribe\",\r\n                        to: id,\r\n                        channel: \"10001\"\r\n                      };\r\n                      ws.send(JSON.stringify(post));\r\n                    }\r\n                    //-----------------------------\r\n                }\r\n            });\r\n    }\r\n      \r\n    function renderRightPanel(array) {\r\n        removeRightPanel();\r\n        array.forEach((user) => {\r\n            rightPanel.innerHTML += `\r\n                        <div class=\"sidebarleft_contact_chat\" data-id=\"${user['chat_id']}\">\r\n                            <div class=\"sidebarleft_avatar\">\r\n                                <span class=\"avatar\">\r\n                                    <img class=\"avatar-photo\" src=\"${state.urlImg}${user['avatar']}\">\r\n                                </span>\r\n                                </div>\r\n                                <div class=\"sidebarleft_title\">\r\n                                    <div class=\"sidebarleft_owner\">\r\n                                        <span>${user['username']} </span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        `;\r\n        });\r\n    }\r\n  \r\n    function removeLeftPanel() {\r\n        leftPanel.innerHTML = ``;\r\n    }\r\n\r\n    function removeRightPanel() {\r\n        rightPanel.innerHTML = ``;\r\n    }\r\n\r\n    function LeftListener() {\r\n        leftPanel.addEventListener( \"click\", function(e) {\r\n          let ItemIdContext  =  getIdOnClick(e);\r\n          let search = document.querySelector(\"#search2\");\r\n          search.value = '';\r\n          setState(ItemIdContext, true);\r\n          renderLeftPanel(state.arr, ItemIdContext);  \r\n        });      \r\n    }\r\n\r\n    function RightListener() {\r\n        rightPanel.addEventListener( \"click\", function(e) {\r\n          let ItemIdContext  =  getIdOnClick(e);\r\n          setState(ItemIdContext, false);\r\n          renderLeftPanel(state.arr, ItemIdContext);  \r\n        });     \r\n    }\r\n  \r\n    function getIdOnClick(e) { \r\n        let node = e.target;\r\n        let id;\r\n        do {\r\n            hasAttr(node, \"data-id\") ? id = node.getAttribute(\"data-id\") : node = node.parentNode;\r\n        } while (!id);\r\n        return id;\r\n    }\r\n    \r\n    function hasAttr(element, attr) {\r\n        if(typeof element === 'object' && element !== null && 'getAttribute' in element  && element.hasAttribute(attr)) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n    }\r\n\r\n    function keyEscListener() {\r\n        window.onkeyup = function(e) {\r\n          if ( e.keyCode === 27 ) { // Esc\r\n            toggleMenuOff();\r\n          }\r\n        };\r\n    }\r\n  \r\n    function contextMenuOffLeftClick() {\r\n      document.addEventListener(\"click\", function() {\r\n        if ( menuState !== 0 ) {\r\n          toggleMenuOff();\r\n        }\r\n      });\r\n    }\r\n  \r\n    function contextMenuOffRightClick() {\r\n      document.addEventListener(\"contextmenu\", function() {\r\n        if ( menuState !== 0 ) {\r\n          toggleMenuOff();\r\n        }\r\n      });\r\n    }\r\n  \r\n    function userListener() {\r\n        divUser.addEventListener( \"contextmenu\", function(e) {\r\n          if (!e.target.classList.contains('sidebarleft_body')) {\r\n            state.currentid  =  getIdOnClick(e);\r\n            toggleMenuOff();\r\n            e.preventDefault();\r\n            menu = document.querySelector(\".context-menu2\");\r\n            toggleMenuOn2();\r\n            positionMenu(e);\r\n            e.stopPropagation();\r\n          }\r\n        });\r\n      \r\n    }\r\n  \r\n    function postListener() {\r\n        divPost.addEventListener( \"contextmenu\", function(e) {\r\n          if ((!e.target.classList.contains('chatcontent')) && (getIdOnClick(e) != 0)) {\r\n            state.currentid  =  getIdOnClick(e);\r\n            toggleMenuOff(); \r\n            e.preventDefault();\r\n            menu = document.querySelector(\".context-menu\");\r\n            toggleMenuOn();\r\n            positionMenu(e);\r\n            e.stopPropagation();\r\n          }\r\n        });\r\n    }\r\n  \r\n    function toggleMenuOn() {\r\n        if ( menuState !== 1 ) {\r\n          menuState = 1;\r\n          menu.classList.add(contextMenuActive);\r\n        }\r\n    }\r\n  \r\n    function toggleMenuOn2() {\r\n      if ( menuState !== 1 ) {\r\n        menuState = 1;\r\n        menu.classList.add(contextMenuActive2);\r\n      }\r\n    }\r\n    \r\n    function toggleMenuOff() {\r\n        if ( menuState !== 0 ) {\r\n          menuState = 0;\r\n          menu.classList.remove(contextMenuActive);\r\n          menu.classList.remove(contextMenuActive2);\r\n        }\r\n    }\r\n  \r\n    function getPosition(e) {\r\n      var posx = 0;\r\n      var posy = 0;\r\n     \r\n      if (!e) {\r\n        let e = window.event;\r\n      }\r\n     \r\n      if (e.pageX || e.pageY) {\r\n        posx = e.pageX;\r\n        posy = e.pageY;\r\n      } else if (e.clientX || e.clientY) {\r\n        posx = e.clientX + document.body.scrollLeft + \r\n                           document.documentElement.scrollLeft;\r\n        posy = e.clientY + document.body.scrollTop + \r\n                           document.documentElement.scrollTop;\r\n      }\r\n     \r\n      return {\r\n        x: posx,\r\n        y: posy\r\n      };\r\n    }\r\n  \r\n    function positionMenu(e) {\r\n      clickCoords = getPosition(e);\r\n      clickCoordsX = clickCoords.x;\r\n      clickCoordsY = clickCoords.y;\r\n     \r\n      menuWidth = menu.offsetWidth + 4;\r\n      menuHeight = menu.offsetHeight + 4;\r\n     \r\n      windowWidth = window.innerWidth;\r\n      windowHeight = window.innerHeight;\r\n     \r\n      if ( (windowWidth - clickCoordsX) < menuWidth ) {\r\n        menu.style.left = windowWidth - menuWidth + \"px\";\r\n      } else {\r\n        menu.style.left = clickCoordsX + \"px\";\r\n      }\r\n     \r\n      if ( (windowHeight - clickCoordsY) < menuHeight ) {\r\n        menu.style.top = windowHeight - menuHeight + \"px\";\r\n      } else {\r\n        menu.style.top = clickCoordsY + \"px\";\r\n      }\r\n    }\r\n  \r\n    function resizeListener() {\r\n      window.onresize = function(e) {\r\n        toggleMenuOff();\r\n      };\r\n    }\r\n  \r\n    function clickListener() {\r\n      contextMenuLink.forEach(function (element) {\r\n        element.addEventListener( \"click\", function(e) {\r\n          e.preventDefault();\r\n          actionByRightClick(e.target);\r\n        });\r\n      });\r\n    }\r\n  \r\n    function actionByRightClick( link ) {  \r\n      toggleMenuOff();    \r\n      switch (link.getAttribute(\"data-action\")) {\r\n        case \"switch\": \r\n          toogleAlarm(state.currentid);\r\n          break;\r\n        case \"delete\": \r\n          deleteMessage(state.currentid);\r\n          break;\r\n        case \"edit\": \r\n          editMessage(state.currentid);\r\n          break;\r\n        case \"forward\": \r\n          forwardMessage();\r\n          break;\r\n      }\r\n    }\r\n  \r\n    function toogleAlarm(id) {\r\n      const listContact = document.querySelector(\".sidebarleft_body\"); \r\n      let chatContact = listContact.querySelectorAll(\".sidebarleft_contact_chat\");\r\n      chatContact.forEach((item) => {\r\n          if (item.getAttribute(\"data-id\") === id) {\r\n              let alarmTag = item.querySelector(\"#alarm\");\r\n              if (alarmTag.className === \"fa fa-bell-o\") {\r\n                  alarmTag.classList.remove(\"fa-bell-o\");\r\n                  alarmTag.classList.add(\"fa-bell-slash-o\");\r\n                  state.arr.forEach((el) => {\r\n                    if(el[\"chat_id\"] == id) {\r\n                      el[\"alert\"] = \"off\";\r\n                    }    \r\n                  });\r\n              } else {\r\n                  alarmTag.classList.remove(\"fa-bell-slash-o\");\r\n                  alarmTag.classList.add(\"fa-bell-o\");\r\n                  state.arr.forEach((el) => {\r\n                    if(el[\"chat_id\"] == id) {\r\n                      el[\"alert\"] = \"on\";\r\n                    }    \r\n                  });\r\n              }      \r\n          }\r\n      });\r\n    }\r\n  \r\n    function deleteMessage(id) {\r\n      state.currentchat.forEach(e => {\r\n        if ((e['id'] == id) && (e['chat_id'] == state.currentchatid)) {\r\n          e['message'] = setMessage(id, \"<i>Сообщение удалено</i>\");\r\n          let index = state.currentchat.findIndex(e => e.id == state.currentid);\r\n          state.currentchat[index][\"message\"] = \"<i>Сообщение удалено</i>\";\r\n        }\r\n      });\r\n          // Сообщить серверу и другому пользователю\r\n          let post = {\r\n            command: \"edit\", \r\n            to: getReceiverUserId(), \r\n            from: state.userID, \r\n            message: \"<i>Сообщение удалено</i>\",\r\n            messageID: id\r\n          };\r\n          ws.send(JSON.stringify(post));\r\n    }\r\n  \r\n    function editMessage(id) { \r\n      state.currentchat.forEach(e => {\r\n        if ((e['id'] == id) && (e['chat_id'] == state.currentchatid)) {\r\n          overlayDiv();\r\n          windowEditFlag = true;\r\n          windowEditTag.classList.add('active');\r\n          windowEditTag.querySelector('.chatwindow_newMessageInput').value = e['message'];\r\n        }\r\n      });\r\n    }\r\n  \r\n    function addWindowEditListener() { \r\n      windowEditTag.querySelector('.chatmessage_send').addEventListener('click', e => {\r\n            closeOverlay();\r\n            let index = state.currentchat.findIndex(e => e.id == state.currentid);\r\n            state.currentchat[index][\"message\"] = windowEditTag.querySelector('.chatwindow_newMessageInput').value;\r\n            setMessage(state.currentid, windowEditTag.querySelector('.chatwindow_newMessageInput').value, '(ред) ');\r\n            e.stopPropagation();\r\n      });\r\n      windowEditTag.addEventListener('keydown', e => {\r\n          if (e.key === 'Enter') {\r\n            e.preventDefault();\r\n            closeOverlay();\r\n            let index = state.currentchat.findIndex(e => e.id == state.currentid);\r\n            state.currentchat[index][\"message\"] = windowEditTag.querySelector('.chatwindow_newMessageInput').value;\r\n            setMessage(state.currentid, windowEditTag.querySelector('.chatwindow_newMessageInput').value, '(ред) ');\r\n            e.stopPropagation();\r\n          }\r\n       });\r\n    }\r\n  \r\n    function setMessage(id, newmessage, status = '') {\r\n      const selector = \"[data-id=\" + '\"' + id + '\"]';\r\n      divPost.querySelector(selector).innerHTML = `\r\n          <div class=\"chatcontent_body chatcontent_body--my\" data-id=${id}>\r\n              <span class=\"chatcontent_mymessage_text\"><b>${state.username}</b>: ${status}${newmessage}</span>\r\n              <span class=\"chatcontent_mymessage_time\">${getTimePost()}</span>\r\n          </div>`;\r\n       // Отправить другой стороне и в базу\r\n      let post = {\r\n        command: \"edit\", \r\n        to: getReceiverUserId(), \r\n        from: state.userID, \r\n        message: status + newmessage,\r\n        messageID: id\r\n      };\r\n      ws.send(JSON.stringify(post));\r\n    }\r\n  \r\n    function getTimePost() {\r\n      const subbed = new Date();\r\n      const hour = subbed.getHours().toString().length < 2 ? '0' + subbed.getHours() : subbed.getHours();\r\n      const min = subbed.getMinutes().toString().length < 2 ? '0' + subbed.getMinutes() : subbed.getMinutes();\r\n      return `${hour}:${min}`;\r\n    }\r\n  \r\n    function addMyMessageInChat(message, chatID = state.currentchatid) { \r\n      const newIndex = getNewIndexCurrentChat(state.currentchat, chatID);\r\n      const newMessage = `\r\n              <div class=\"chatcontent_mymessage_wrapper chatcontent_mymessage\">\r\n                  <div class=\"chatcontent_body chatcontent_body--my\" data-id=${newIndex}>\r\n                      <span class=\"chatcontent_mymessage_text\"><b>${state.username}</b>: ${message}</span>\r\n                      <span class=\"chatcontent_mymessage_time\">${getTimePost()}</span>\r\n                  </div>\r\n              </div>\r\n      `;\r\n      chatContext.insertAdjacentHTML(\"beforeend\", newMessage);\r\n      state.currentchat[state.currentchat.length] = {\"id\": newIndex, \"chat_id\": Number(chatID), \"sender_id\": state.userID, \"message\": message, \"time_message\": getTimePost(), \"id1\": state.userID, \"id2\": getReceiverUserId()};\r\n    }\r\n\r\n    function getNewIndexCurrentChat(currentchat, chatId) { \r\n      const array = currentchat.filter(item => item['chat_id'] == chatId);\r\n      return ++array.length;\r\n    }\r\n  \r\n    function addEditorListener() {\r\n        listener1 = function(){\r\n          if (inputSend.value !== '') {\r\n              addMyMessageInChat(inputSend.value);\r\n              // Отправить другой стороне и в базу\r\n              let username = state.username;\r\n              if (state.currentchatid == '10001') {\r\n                let post = {\r\n                  command: \"groupchat\", \r\n                  message: \"<b>\" + username + \"</b>: \" + inputSend.value,\r\n                  channel: \"10001\"\r\n                };\r\n                ws.send(JSON.stringify(post));\r\n              } else {\r\n                let post = {\r\n                  command: \"message\", \r\n                  to: getReceiverUserId(), \r\n                  from: state.userID, \r\n                  message: \"<b>\" + username + \"</b>: \" + inputSend.value\r\n                };\r\n                ws.send(JSON.stringify(post));\r\n              }\r\n              // --------------------------------\r\n              inputSend.value = '';\r\n              inputSend.focus();\r\n          }\r\n      };\r\n        btnSend.addEventListener('click', listener1);\r\n  \r\n      listener2 = e => {\r\n        if ((inputSend.value !== '') && (e.key === 'Enter')) {\r\n            e.preventDefault();\r\n            addMyMessageInChat(inputSend.value);\r\n            // Отправить другой стороне и в базу\r\n            let username = state.username;\r\n            if (state.currentchatid == '10001') {\r\n              let post = {\r\n                command: \"groupchat\", \r\n                message: \"<b>\" + username + \"</b>: \" + inputSend.value,\r\n                channel: \"10001\"\r\n              };\r\n              ws.send(JSON.stringify(post));\r\n            } else {\r\n              let post = {\r\n                command: \"message\", \r\n                to: getReceiverUserId(), \r\n                from: state.userID, \r\n                message: \"<b>\" + username + \"</b>: \" + inputSend.value\r\n              };\r\n              ws.send(JSON.stringify(post));\r\n            }\r\n            // --------------------------------\r\n            inputSend.value = '';\r\n            inputSend.focus();\r\n          }\r\n        };\r\n        window.addEventListener('keydown', listener2);\r\n    }  \r\n  \r\n    function removeEditorListener() {\r\n      btnSend.removeEventListener('click', listener1, false);\r\n      window.addEventListener('keydown', listener2, false);\r\n    }\r\n  \r\n  \r\n    function overlayDiv() { \r\n      if ((!windowEditFlag) && (!windowTransferFlag)) {\r\n          shadowOverlay = document.createElement('div');\r\n          shadowOverlay.classList.add('overlay__shadow');\r\n          document.body.appendChild(shadowOverlay);\r\n          shadowOverlay.classList.add('overlay__shadow--show');\r\n          removeEditorListener();\r\n          shadowOverlay.addEventListener('click', e => {\r\n            if (e.target.classList.contains('overlay__shadow')) {\r\n                closeOverlay();\r\n            }\r\n          });\r\n          window.addEventListener('keydown', e => {\r\n            if ((e.key === 'Escape') & ((windowEditFlag) || (windowTransferFlag))) {\r\n                closeOverlay();\r\n            }\r\n          });\r\n      } else {\r\n          shadowOverlay.classList.remove('overlay__shadow--show');\r\n          shadowOverlay.classList.remove('overlay__shadow');\r\n          document.body.removeChild(shadowOverlay);\r\n          addEditorListener();\r\n      }\r\n    }\r\n    \r\n    function closeOverlay() {\r\n      if ((windowEditFlag) || (windowTransferFlag)) {\r\n          shadowOverlay.classList.remove('overlay__shadow--show');\r\n          shadowOverlay.classList.remove('overlay__shadow');\r\n          document.body.removeChild(shadowOverlay);\r\n          windowEditTag.classList.remove('active');\r\n          windowListChatTag.classList.remove('active');\r\n          windowEditFlag = false;\r\n          windowTransferFlag = false;\r\n          addEditorListener();\r\n      }\r\n    }\r\n  \r\n    function forwardMessage() {\r\n        overlayDiv();\r\n        windowTransferFlag = true;\r\n        windowListChatTag.classList.add('active');\r\n        renderforwardWindow();\r\n    }\r\n  \r\n    function renderforwardWindow(array = state.arr) {\r\n          let chatList = [];\r\n          chatList = array.filter(e => {\r\n                return ((e['chat_id'] < 10002));\r\n            });\r\n          listForward.innerHTML = '';\r\n          chatList.forEach((user) => {\r\n            if (user['chat_id'] != state.currentchatid) {\r\n                  listForward.innerHTML += `\r\n                        <div class=\"sidebarleft_contact_chat\" data-id=\"${user['chat_id']}\">\r\n                            <div class=\"sidebarleft_avatar\">\r\n                                <span class=\"avatar\">\r\n                                    <img class=\"avatar-photo\" src=\"${state.urlImg}${user['avatar']}\">\r\n                                </span>\r\n                                </div>\r\n                                <div class=\"sidebarleft_title\">\r\n                                <div class=\"sidebarleft_owner\">\r\n                                    <span>${user['username']} </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                  `;\r\n            }\r\n        });\r\n    }\r\n  \r\n    function addForwardtListener() {\r\n      listForward.addEventListener( \"click\", function(e) {\r\n        e.stopPropagation();\r\n        let ItemIdContext  =  getIdOnClick(e); // \r\n        state.currentchat.forEach(e => {\r\n          if(e['id'] == state.currentid) {\r\n             let message = \"Forward->\" + e['message'];\r\n             const currentChatId = getReceiverChatIdfromMessageId(Number(ItemIdContext));\r\n             state.currentchat[state.currentchat.length] = {\"id\": state.currentchat.length + 1, \"chat_id\": currentChatId, \"sender_id\": state.userID, \"message\": message, \"time_message\": getTimePost(), \"id1\": state.userID, \"id2\": getReceiverUserId(currentChatId)};\r\n             closeOverlay();\r\n          }\r\n        });\r\n        // Отправить другой стороне и в базу\r\n        let post = {\r\n            command: \"message\", \r\n            to: getReceiverUserId(currentChatId),\r\n            from: state.userID, \r\n            message: message\r\n        };\r\n        ws.send(JSON.stringify(post));\r\n        // ------------------------------\r\n      });     \r\n    }\r\n  \r\n    function filterForwardList() {\r\n      search.addEventListener(\"input\", e => {\r\n        renderforwardWindow(filterUserName(e.target.value, state.arr));\r\n      });\r\n    }\r\n  \r\n    function filterUserName(value, array) {\r\n      return array.filter(it => it['username'].toLowerCase().indexOf(value.toLowerCase()) !== -1);\r\n    }\r\n\r\n    function addReceiverMessageInChat(message, receiverUserId) {\r\n      const newIndex = getNewIndexCurrentChat(state.currentchat, getReceiverChatIdfromUserId(receiverUserId));\r\n      if (getReceiverChatIdfromUserId(receiverUserId) == state.currentchatid) {\r\n          const newMessage = `\r\n                            <div class=\"chatcontent_mymessage_wrapper chatcontent_yourmessage\" data-id=${newIndex}>\r\n                                <div class=\"chatcontent_body\">\r\n                                    <span class=\"chatcontent_yourmessage_text\">${message}</span>\r\n                                    <span class=\"chatcontent_yourmessage_time\">${getTimePost()}</span>\r\n                                </div>\r\n                            </div>\r\n                        `;\r\n          chatContext.insertAdjacentHTML(\"beforeend\", newMessage);\r\n      }\r\n      state.currentchat[state.currentchat.length] = {\r\n        \"id\": newIndex,\r\n        \"chat_id\": getReceiverChatIdfromUserId(receiverUserId),\r\n        \"sender_id\": receiverUserId,\r\n        \"message\": message,\r\n        \"time_message\": getTimePost(),\r\n        \"id1\": receiverUserId,\r\n        \"id2\": state.userID\r\n      };\r\n    }\r\n\r\n    function modifyReceiverMessageInChat(id, receiverUserId, message) {\r\n      if (getReceiverChatIdfromUserId(receiverUserId) == state.currentchatid) {\r\n        const selector = \"[data-id=\" + '\"' + id + '\"]';\r\n        divPost.querySelector(selector).innerHTML = `\r\n              <div class=\"chatcontent_mymessage_wrapper chatcontent_yourmessage\" data-id=${id}>\r\n                <div class=\"chatcontent_body\">\r\n                  <span class=\"chatcontent_yourmessage_text\">${message}</span>\r\n                  <span class=\"chatcontent_yourmessage_time\">${getTimePost()}</span>\r\n                </div>\r\n              </div>\r\n            `;\r\n      }\r\n      let index = state.currentchat.findIndex(e => e.id == id);\r\n      state.currentchat[index] = {\r\n        \"id\": id,\r\n        \"chat_id\": getReceiverChatIdfromUserId(receiverUserId),\r\n        \"sender_id\": receiverUserId,\r\n        \"message\": message,\r\n        \"time_message\": getTimePost(),\r\n        \"id1\": receiverUserId,\r\n        \"id2\": state.userID\r\n      };\r\n    }\r\n\r\n    function getReceiverChatIdfromUserId(receiverUserId) { \r\n      const array = state.arr.filter(item => {\r\n        return ((item['id1'] == receiverUserId) && (item['id2'] == state.userID) || (item['id1'] == state.userID) && (item['id2'] == receiverUserId));\r\n      });\r\n        return array[0]['chat_id'];\r\n    }\r\n\r\n    function getReceiverChatIdfromMessageId(messageId) { \r\n      const array = state.currentchat.filter(item => item[\"id\"] == messageId);\r\n        return array[0]['chat_id'];\r\n    }\r\n\r\n    function getReceiverUserId(chatId = state.currentchatid) { \r\n      const array = state.arr.filter(item => item['chat_id'] == chatId );\r\n         if (array[0]['id1'] == state.userID) {\r\n            return array[0]['id2'];\r\n          } else {\r\n            return array[0]['id1'];\r\n          }\r\n    }\r\n\r\n    // Обработка входящих сообщений\r\n    ws.onmessage = (e)=> {\r\n          let info = JSON.parse(e.data);\r\n          console.log(info);\r\n          switch (info.command) {\r\n            case 'message':\r\n                addReceiverMessageInChat(info.message, info.from);\r\n                break;\r\n            case 'groupchat':\r\n                addReceiverMessageInChat(info.message, info.from);\r\n                break;\r\n            case 'edit':\r\n                modifyReceiverMessageInChat(Number(info.messageID), info.from, info.message);\r\n                break;\r\n            default:\r\n              console.log(info);\r\n          }\r\n    };\r\n\r\n};\r\n\r\nexport default actionListeners;","const getState = (state) => {\n\n    const urlQuery = '../src/App/'; //'../src/App/'  './App/'\n\n    function getUser() {\n        axios.get(urlQuery + `userData.php`)\n        .then(res => { \n            setData(res.data[0].id, 'userID');\n            setData(res.data[0].username, 'username');\n            setData(res.data[0].avatar, 'avatar');\n        })\n        .catch(function(error) {\n            console.log(error);\n        });\n    };\n\n    function getListChats() {\n        axios.get(urlQuery + `chatList.php`)\n        .then(res => {\n            let Arr = Object.entries(res.data);\n            Arr.forEach((item, i) => {\n                setList(item[1], [i]);\n            });\n            console.log('state.arr', state.arr);\n    });\n    }\n\n    function getChatMessages()  {\n        axios.get(urlQuery + `chatMessages.php`)\n        .then(res => {\n            let Arr = Object.entries(res.data);\n            Arr.forEach((item, i) => {\n                setMessage(item[1], [i]);\n            });\n            console.log('state.currentchat', state.currentchat);\n        });\n    }\n\n    function setData(arg, field) {\n        state[field] = arg;\n        console.log(field, state[field]);\n    }\n\n    function setMessage(arg, field) {\n        state.currentchat[field] = arg;\n    }\n\n    function setList(arg, field) {\n        state.arr[field] = arg;\n    }\n\n    getUser();\n    getListChats(); \n    //state.arr[state.arr.length] = {\"id\": state.currentchat.length + 1, \"owner_id\": state.userID, \"chat_id\": 10001, \"alarm\": 1, \"lasttime\":\"\", \"group_status\": 0, \"email\": \"Нет\", \"username\": \"Group Chat\", \"avatar\": \"avatar-m.png\", \"email_status\" :1};\n    //console.log('state.arr', state.arr);\n    getChatMessages();\n\n};\n\nexport default getState;","const hamburger = () => {\n\n        let menuBtnLeft = document.querySelector('.header_left');\n        let menuLeft = document.querySelector('.menuLeft');\n        let menuBtnRight = document.querySelector('.header_right');\n        let menuRight = document.querySelector('.menuRight');\n        let openMenuLeft = false;\n        let openMenuRight = false;\n        let shadowOverlay;\n\n        addListeners();\n\n        function addListeners() {\n            menuBtnLeft.addEventListener('click', function(){\n                if (!openMenuRight) {\n                    overlayMenu();\n                    toogleLeftMenu();  \n                }\n            });\n    \n            menuBtnRight.addEventListener('click', function(){\n                if (!openMenuLeft) {\n                    overlayMenu();\n                    toogleRightMenu();\n                }\n            });\n    \n            window.addEventListener('click', e => {\n                if (e.target.classList.contains('overlay__shadow')) {\n                    closeOverlay();\n                }\n            });\n    \n            window.addEventListener('keydown', e => {\n                if ((e.key === 'Escape') & ((openMenuLeft) || (openMenuRight))) {\n                    closeOverlay();\n                }\n            });\n    \n            document.querySelector('.chatcontent').scrollTo(0, document.body.scrollHeight);\n        }\n\n        function closeOverlay() {\n                if (openMenuLeft) {\n                    overlayMenu();\n                    toogleLeftMenu();  \n                }\n                if (openMenuRight) {\n                    overlayMenu();\n                    toogleRightMenu();\n                }\n        }\n\n        function toogleLeftMenu() {\n            (!openMenuLeft) ? openMenuLeft = true : openMenuLeft = false;\n            menuLeft.classList.toggle('active');\n            menuBtnLeft.classList.toggle('active');\n        } \n\n        function toogleRightMenu() {\n            (!openMenuRight) ? openMenuRight = true : openMenuRight = false;\n            menuRight.classList.toggle('active');\n            menuBtnRight.classList.toggle('active');\n        } \n\n        function overlayMenu() { \n            if ((!openMenuRight) & (!openMenuLeft)) {\n                shadowOverlay = document.createElement('div');\n                shadowOverlay.classList.add('overlay__shadow');\n                document.body.appendChild(shadowOverlay);\n                shadowOverlay.classList.add('overlay__shadow--show');\n            } else {\n                shadowOverlay.classList.remove('overlay__shadow--show');\n                shadowOverlay.classList.remove('overlay__shadow');\n                document.body.removeChild(shadowOverlay);\n            }\n        }\n};\n\nexport default hamburger;","const renderChatComponets = (state) => {\n\n    const layerChatList = document.querySelector(\".sidebarleft_body\"); \n    const chatContext = document.querySelector(\".chatcontent\"); \n\n    init();\n    \n    function init() {\n        renderChatList(state.arr);\n        filterChatList();\n        clickChatList();\n        uploadMyAvatar();\n        uploadMyNick();\n        reloadHeaderClickChat(state.arr[0]['chat_id']);\n    }\n\n    function uploadMyAvatar() {\n        const blockMyAvatar = document.querySelector(\".myavatar\");\n        blockMyAvatar.innerHTML =\n        `\n            <img class=\"myavatar-photo\" src=\"${state.urlImg}${state.avatar}\">\n            <div class=\"camera\"><a href=\"/upload\" title=\"Сменить аватар\">\n                <i class=\"fa fa-camera-retro icon-camera\"></i>\n            </a></div>\n        `;\n    }\n\n    function uploadMyNick() {\n        const blockMyNick = document.querySelector(\".mynick\");\n        blockMyNick.innerHTML =\n        `\n            <a href=\"/update\" title=\"Редактировать профиль\">${state.username}</i></a>\n        `;\n    }\n\n    function reloadHeaderClickChat(id) {\n        state.currentchatid = id;\n        let user = state.arr.filter(e => {return e['chat_id'] == id });\n        const header = document.querySelector(\".header_wrapper\"); \n        const control = document.querySelector(\".header_right\"); \n       \n        if (state.currentchatid < 10000) {\n            header.innerHTML =\n            `\n            <div class=\"header_avatar\">\n                    <img class=\"avatar-photo\" src=\"${state.urlImg}${user[0]['avatar']}\">\n            </div>\n            <div class=\"header_title\">\n                <div class=\"header_owner\">\n                    <span>${user[0]['username']}</span>\n                </div>\n                <div class=\"header_info\">\n                    <span>Был(а) недавно</span>\n                </div>\n            </div>\n            `;\n            control.style = \"opacity: 0\";\n        } else {\n            header.innerHTML =\n            `<div class=\"header_avatar\">\n                <img class=\"avatar-photo\" src=\"${state.urlImg}${user[0]['avatar']}\">\n             </div>\n             <div class=\"header_title\">\n                <div class=\"header_owner\">\n                    <span>${user[0]['username']}</span>\n                </div>\n                <div class=\"header_info\">\n\n                </div>\n             </div>\n            `;\n            calcGroupSize();\n            control.style = \"opacity: 1\";\n        }\n        uploadChat(id);\n       // uploadLeftPanel();\n    }\n\n    function calcGroupSize() {\n        let headerCount = document.querySelector(\".header_info\");\n        let chatList = state.arr.filter(e => {\n            return ((e['id1'] < 10000) && (e[\"group_status\"] == 1));\n        });\n        let text = state.username + '&#013;';\n        chatList.forEach(e => {text += e['username'] + '&#013;'});\n        headerCount.innerHTML = '';\n        headerCount.innerHTML =`<span title=\"${text}\">Участники: ${chatList.length + 1}</span>`;\n\n    }\n\n    function uploadChat(chatId) {\n        removeChat(); \n        const array = state.currentchat.filter(item => item['chat_id'] == chatId);\n        array.forEach((arr) => {\n                if (arr['sender_id'] == state.userID) { \n                    chatContext.innerHTML += `\n                        <div class=\"chatcontent_mymessage_wrapper chatcontent_mymessage\" data-id=${arr[\"id\"]}>\n                            <div class=\"chatcontent_body chatcontent_body--my\">\n                                <span class=\"chatcontent_mymessage_text\"><b>${state.username}</b>: ${arr['message']}</span>\n                                <span class=\"chatcontent_mymessage_time\">${arr['time_message']}</span>\n                            </div>\n                        </div>\n                    `;\n                } else {\n                    chatContext.innerHTML += `\n                        <div class=\"chatcontent_mymessage_wrapper chatcontent_yourmessage\" data-id=${arr[\"id\"]}>\n                            <div class=\"chatcontent_body\">\n                                <span class=\"chatcontent_yourmessage_text\">${arr['message']}</span>\n                                <span class=\"chatcontent_yourmessage_time\">${arr['time_message']}</span>\n                            </div>\n                        </div>\n                    `;\n                }\n        });\n    }\n\n    function removeChat() {\n        chatContext.innerHTML = ``;\n   }\n\n    function clickChatList() {\n        layerChatList.addEventListener(\"click\", function(e) {\n            let node = e.target;\n            let id;\n            do {\n                hasAttr(node, \"data-id\") ? id = node.getAttribute(\"data-id\") : node = node.parentNode;\n            } while (!id);\n            if(id) {\n                reloadHeaderClickChat(id);\n            }\n        });\n    }\n\n    function hasAttr(element, attr) {\n        if(typeof element === 'object' && element !== null && 'getAttribute' in element  && element.hasAttribute(attr)) {\n          return true;\n        } else {\n          return false;\n        }\n    }\n\n    function renderChatList(array) { \n        removeChatList();\n       // sortChatList(); Сортировка чатов по времени сообщений\n        array.forEach((user) => {  \n            if ((user['id1'] == state.userID) || (user['id2'] == state.userID) || (user['id1'] == 10001)) { \n                    let alert = ((user['alert1'] === 'on' && user['id1'] == state.userID) || (user['alert2'] === 'on' && user['id2'] == state.userID)) ? \"fa-bell-o\" : \"fa-bell-slash-o\";\n                    layerChatList.innerHTML += `\n                    <div class=\"sidebarleft_contact_chat\" data-id=\"${user['chat_id']}\">\n                        <div class=\"sidebarleft_avatar\">\n                            <span class=\"avatar\">\n                                <img class=\"avatar-photo\" src=\"${state.urlImg}${user['avatar']}\">\n                                <span class=\"status\" data-status=\"on\"></span> \n                            </span>\n                            </div>\n                            <div class=\"sidebarleft_title\">\n                            <div class=\"sidebarleft_owner\">\n                                <span>${user['username']} </span><i class=\"fa ${alert}\" id=\"alarm\"></i>\n                            </div>\n                            <div class=\"sidebarleft_lastpost\">\n                                <span>${user['email']}</span>\n                            </div>\n                        </div>\n                    </div>\n                    `;\n            }\n        });\n\n    }\n\n    function removeChatList() {\n         layerChatList.innerHTML = ``;\n    }\n\n    function sortChatList() {\n        state.arr.sort((a, b) => b.lasttime > a.lasttime ? 1 : -1);\n    }\n\n    function filterUserName(value, array) {\n        return array.filter(it => it['username'].toLowerCase().indexOf(value.toLowerCase()) !== -1);\n    }\n    \n    function filterChatList() {\n            let search = document.querySelector(\"#search\");\n            search.addEventListener(\"input\", e => {\n                renderChatList(filterUserName(e.target.value, state.arr));\n            });\n    }\n    \n};\n\nexport default renderChatComponets;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import getState from \"./modules/getState\";\r\nimport hamburger from \"./modules/hamburger\";\r\nimport actionListeners from \"./modules/actionListeners\";\r\nimport renderChatComponets from \"./modules/renderChatComponets\";\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n    \r\n    let state = {\r\n        userID: \"\", // current user ID\r\n        username: \"\", // current username \r\n        avatar: \"\",\r\n        arr: [], // array chat list\r\n        currentchat: [], // array messeges current chat\r\n        currentchatid: 0, // current chat id\r\n        currentid: 0, // current id message\r\n        urlImg: \"../public/uploads/avatar/\"  //\"../public/uploads/avatar/\"  \"../assets/img/avatar/\"\r\n    };\r\n\r\n    const ws = new WebSocket(\"ws://localhost:8090\");\r\n\r\n    ws.onopen = (e) => {   // Открываем канал с сервером чата\r\n        console.log(\"Connection established! \" + e);\r\n    };\r\n\r\n    //  conn.send(JSON.stringify({command: \"subscribe\", channel: \"global\"}));\r\n    //  conn.send(JSON.stringify({command: \"groupchat\", message: \"hello glob\", channel: \"global\"}));\r\n    // command: \"groupchat\", message: \"hello glob\", channel: \"global\"\r\n    //  conn.send(JSON.stringify({command: \"message\", to: \"1\", from: \"9\", message: \"it needs xss protection\"}));\r\n    // conn.send(JSON.stringify({command: \"register\", userId: 9}));\r\n\r\n    getState(state);  \r\n    setTimeout(function() {\r\n        state.arr[state.arr.length] = {\"id\": 1, \"chat_id\" :10001, \"id1\": 10001, \"alarm1\": 1, \"id2\": 10001, \"alarm2\": 1, \"lasttime\":\"10:31\", \"email\": \"нет\", \"username\":\"Group Chat\", \"avatar\": \"avatar-m.png\", \"email_status\": 1, \"group_status\": 0};\r\n        hamburger();\r\n        renderChatComponets(state);\r\n        actionListeners(state, ws);\r\n        ws.send(JSON.stringify({command: \"register\", userId: state.userID})); // Регистрируем пользователя в чате\r\n        ws.send(JSON.stringify({action: \"subscribe\", to: 11, channel: \"10001\"}));\r\n    }, 1000);\r\n\r\n\r\n});"],"names":["actionListeners","state","ws","contextMenuLink","document","querySelectorAll","contextMenuActive","contextMenuActive2","divUser","querySelector","divPost","menu","menuState","menuWidth","menuHeight","windowWidth","windowHeight","clickCoords","clickCoordsX","clickCoordsY","btnSend","inputSend","windowEditFlag","windowTransferFlag","shadowOverlay","windowEditTag","windowListChatTag","listener1","listener2","listForward","search","chatContext","configWindow","leftPanel","rightPanel","init","focus","LeftListener","RightListener","filterChatGroupList","renderLeftPanel","addForwardtListener","addEditorListener","addWindowEditListener","postListener","userListener","clickListener","contextMenuOffLeftClick","contextMenuOffRightClick","keyEscListener","resizeListener","filterForwardList","addEventListener","e","filterUserName","target","value","arr","calcGroupSize","headerCount","chatList","filter","text","username","forEach","innerHTML","length","array","arguments","undefined","removeLeftPanel","rightarray","leftarray","currentchatid","user","urlImg","renderRightPanel","setState","id","status","post","action","to","channel","send","JSON","stringify","removeRightPanel","ItemIdContext","getIdOnClick","node","hasAttr","getAttribute","parentNode","element","attr","hasAttribute","window","onkeyup","keyCode","toggleMenuOff","classList","contains","currentid","preventDefault","toggleMenuOn2","positionMenu","stopPropagation","toggleMenuOn","add","remove","getPosition","posx","posy","event","pageX","pageY","clientX","clientY","body","scrollLeft","documentElement","scrollTop","x","y","offsetWidth","offsetHeight","innerWidth","innerHeight","style","left","top","onresize","actionByRightClick","link","toogleAlarm","deleteMessage","editMessage","forwardMessage","listContact","chatContact","item","alarmTag","className","el","currentchat","setMessage","index","findIndex","command","getReceiverUserId","from","userID","message","messageID","overlayDiv","closeOverlay","key","newmessage","selector","getTimePost","subbed","Date","hour","getHours","toString","min","getMinutes","addMyMessageInChat","chatID","newIndex","getNewIndexCurrentChat","newMessage","insertAdjacentHTML","Number","chatId","removeEditorListener","removeEventListener","createElement","appendChild","removeChild","renderforwardWindow","currentChatId","getReceiverChatIdfromMessageId","it","toLowerCase","indexOf","addReceiverMessageInChat","receiverUserId","getReceiverChatIdfromUserId","modifyReceiverMessageInChat","messageId","onmessage","info","parse","data","console","log","getState","urlQuery","getUser","axios","get","then","res","setData","avatar","catch","error","getListChats","Arr","Object","entries","i","setList","getChatMessages","arg","field","hamburger","menuBtnLeft","menuLeft","menuBtnRight","menuRight","openMenuLeft","openMenuRight","addListeners","overlayMenu","toogleLeftMenu","toogleRightMenu","scrollTo","scrollHeight","toggle","renderChatComponets","layerChatList","renderChatList","filterChatList","clickChatList","uploadMyAvatar","uploadMyNick","reloadHeaderClickChat","blockMyAvatar","blockMyNick","header","control","uploadChat","removeChat","removeChatList","alert","sortChatList","sort","a","b","lasttime","WebSocket","onopen","setTimeout","userId"],"sourceRoot":""}